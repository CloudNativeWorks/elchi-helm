{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": {
          "type": "datasource",
          "uid": "grafana"
        },
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "type": "dashboard"
      }
    ]
  },
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 1,
  "id": 0,
  "links": [],
  "panels": [
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Client server status",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "yellow",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 0,
        "y": 1
      },
      "id": 1,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum({__name__=\"${service}_${project}_server_live\", client_name=~\"$client\"})",
          "legendFormat": "Status",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Client Status",
      "type": "stat",
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": [
            "lastNotNull"
          ],
          "fields": ""
        },
        "textMode": "auto"
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Client server uptime",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "yellow",
                "value": 80
              }
            ]
          },
          "unit": "s"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 2,
        "y": 1
      },
      "id": 2,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum({__name__=\"${service}_${project}_server_uptime\", client_name=~\"$client\"})",
          "legendFormat": "Uptime",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Uptime",
      "type": "stat",
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": [
            "lastNotNull"
          ],
          "fields": ""
        },
        "textMode": "auto"
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Number of upstream clusters",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "yellow",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 4,
        "y": 1
      },
      "id": 3,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum({__name__=\"${service}_${project}_cluster_manager_active_clusters\", client_name=~\"$client\"})",
          "legendFormat": "Clusters",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Total Clusters",
      "type": "stat",
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": [
            "lastNotNull"
          ],
          "fields": ""
        },
        "textMode": "auto"
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Clusters currently warming",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "yellow",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 6,
        "y": 1
      },
      "id": 4,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum({__name__=\"${service}_${project}_cluster_manager_warming_clusters\", client_name=~\"$client\"})",
          "legendFormat": "Warming",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Warming Clusters",
      "type": "stat",
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": [
            "lastNotNull"
          ],
          "fields": ""
        },
        "textMode": "auto"
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Total upstream members across all clusters",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "yellow",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 8,
        "y": 1
      },
      "id": 5,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum({__name__=\"${service}_${project}_cluster_membership_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"})",
          "legendFormat": "Total",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Total Members",
      "type": "stat",
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": [
            "lastNotNull"
          ],
          "fields": ""
        },
        "textMode": "auto"
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Total healthy upstream members across all clusters",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "yellow",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 10,
        "y": 1
      },
      "id": 6,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum({__name__=\"${service}_${project}_cluster_membership_healthy\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"})",
          "legendFormat": "Healthy",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Healthy Members",
      "type": "stat",
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": [
            "lastNotNull"
          ],
          "fields": ""
        },
        "textMode": "auto"
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Total degraded upstream members",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "yellow",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 12,
        "y": 1
      },
      "id": 7,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum({__name__=\"${service}_${project}_cluster_membership_degraded\", client_name=~\"$client\"})",
          "legendFormat": "Degraded",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Degraded Members",
      "type": "stat",
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": [
            "lastNotNull"
          ],
          "fields": ""
        },
        "textMode": "auto"
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Active health check failures",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "yellow",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 14,
        "y": 1
      },
      "id": 8,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum(rate({__name__=~\"${service}_${project}_cluster_health_check_failure_total\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "HC Failures",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Health Check Failures",
      "type": "stat",
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": [
            "lastNotNull"
          ],
          "fields": ""
        },
        "textMode": "auto"
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Memory allocated by Envoy",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "yellow",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 16,
        "y": 1
      },
      "id": 9,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum({__name__=\"${service}_${project}_server_memory_allocated\", client_name=~\"$client\"})",
          "legendFormat": "Allocated",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Memory Allocated",
      "type": "stat",
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": [
            "lastNotNull"
          ],
          "fields": ""
        },
        "textMode": "auto"
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Total heap size",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "yellow",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 18,
        "y": 1
      },
      "id": 10,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum({__name__=\"${service}_${project}_server_memory_heap_size\", client_name=~\"$client\"})",
          "legendFormat": "Heap",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Heap Size",
      "type": "stat",
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": [
            "lastNotNull"
          ],
          "fields": ""
        },
        "textMode": "auto"
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Days until first certificate expires",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "yellow",
                "value": 80
              }
            ]
          },
          "unit": "d"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 20,
        "y": 1
      },
      "id": 11,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "(((sum({__name__=\"${service}_${project}_server_days_until_first_cert_expiring\", client_name=~\"$client\"})) < 3650) * (sum({__name__=\"${service}_${project}_server_days_until_first_cert_expiring\", client_name=~\"$client\"}))) or vector(0)",
          "legendFormat": "Days",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Certificate Expiry",
      "type": "stat",
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": [
            "lastNotNull"
          ],
          "fields": ""
        },
        "textMode": "auto"
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Total active downstream connections",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "yellow",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 22,
        "y": 1
      },
      "id": 12,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum({__name__=\"${service}_${project}_http_downstream_cx_active\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"})",
          "legendFormat": "Connections",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Active Connections",
      "type": "stat",
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": [
            "lastNotNull"
          ],
          "fields": ""
        },
        "textMode": "auto"
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Total requests per second",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "yellow",
                "value": 80
              }
            ]
          },
          "unit": "reqps"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 0,
        "y": 9
      },
      "id": 13,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum(rate({__name__=~\"${service}_${project}_http_downstream_rq_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "RPS",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Request Rate",
      "type": "stat",
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": [
            "lastNotNull"
          ],
          "fields": ""
        },
        "textMode": "auto"
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Currently processing requests",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "yellow",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 2,
        "y": 9
      },
      "id": 14,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum({__name__=\"${service}_${project}_http_downstream_rq_active\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"})",
          "legendFormat": "Active",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Active Requests",
      "type": "stat",
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": [
            "lastNotNull"
          ],
          "fields": ""
        },
        "textMode": "auto"
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Server errors per second",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "yellow",
                "value": 80
              }
            ]
          },
          "unit": "reqps"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 4,
        "y": 9
      },
      "id": 15,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "(sum(rate({__name__=~\"${service}_${project}_http_downstream_rq_5xx_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))) or vector(0)",
          "legendFormat": "5xx/s",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Error Rate (5xx)",
      "type": "stat",
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": [
            "lastNotNull"
          ],
          "fields": ""
        },
        "textMode": "auto"
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Hosts ejected by outlier detection",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "yellow",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 6,
        "y": 9
      },
      "id": 16,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "(sum({__name__=\"${service}_${project}_cluster_ejections_active\", client_name=~\"$client\"})) or vector(0)",
          "legendFormat": "Ejected",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Ejected Hosts",
      "type": "stat",
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": [
            "lastNotNull"
          ],
          "fields": ""
        },
        "textMode": "auto"
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Number of worker threads",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "yellow",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 8,
        "y": 9
      },
      "id": 17,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum({__name__=\"${service}_${project}_server_concurrency\", client_name=~\"$client\"})",
          "legendFormat": "Threads",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Worker Threads",
      "type": "stat",
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": [
            "lastNotNull"
          ],
          "fields": ""
        },
        "textMode": "auto"
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Total connections (new + old processes)",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "yellow",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 10,
        "y": 9
      },
      "id": 18,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "(sum({__name__=\"${service}_${project}_server_total_connections\", client_name=~\"$client\"})) or vector(0)",
          "legendFormat": "Total",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Total Connections",
      "type": "stat",
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": [
            "lastNotNull"
          ],
          "fields": ""
        },
        "textMode": "auto"
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Client errors per second",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "yellow",
                "value": 80
              }
            ]
          },
          "unit": "reqps"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 12,
        "y": 9
      },
      "id": 19,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "(sum(rate({__name__=~\"${service}_${project}_http_downstream_rq_4xx_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))) or vector(0)",
          "legendFormat": "4xx/s",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Client Errors (4xx)",
      "type": "stat",
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": [
            "lastNotNull"
          ],
          "fields": ""
        },
        "textMode": "auto"
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Active upstream connections",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "yellow",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 14,
        "y": 9
      },
      "id": 20,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "(sum({__name__=\"${service}_${project}_cluster_upstream_cx_active\", client_name=~\"$client\"})) or vector(0)",
          "legendFormat": "Active",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Upstream Cx Active",
      "type": "stat",
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": [
            "lastNotNull"
          ],
          "fields": ""
        },
        "textMode": "auto"
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Retry requests per second",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "yellow",
                "value": 80
              }
            ]
          },
          "unit": "reqps"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 16,
        "y": 9
      },
      "id": 21,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "(sum(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_retry_total\", client_name=~\"$client\"}[1m]))) or vector(0)",
          "legendFormat": "Retry/s",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Retries",
      "type": "stat",
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": [
            "lastNotNull"
          ],
          "fields": ""
        },
        "textMode": "auto"
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "99th percentile response time",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "yellow",
                "value": 80
              }
            ]
          },
          "unit": "ms"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 18,
        "y": 9
      },
      "id": 22,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "(histogram_quantile(0.99, sum(rate({__name__=~\"${service}_${project}_http_downstream_rq_time_bucket\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m])) by (le))) or vector(0)",
          "legendFormat": "p99",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Response Time (p99)",
      "type": "stat",
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": [
            "lastNotNull"
          ],
          "fields": ""
        },
        "textMode": "auto"
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Circuit breaker open events",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "yellow",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 20,
        "y": 9
      },
      "id": 23,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "(sum(rate({__name__=~\"${service}_${project}_cluster_circuit_breakers_default_cx_open_total\", client_name=~\"$client\"}[1m]))) or vector(0)",
          "legendFormat": "Cx",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "(sum(rate({__name__=~\"${service}_${project}_cluster_circuit_breakers_default_rq_open_total\", client_name=~\"$client\"}[1m]))) or vector(0)",
          "legendFormat": "Rq",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "Circuit Breaker Opens",
      "type": "stat",
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": [
            "lastNotNull"
          ],
          "fields": ""
        },
        "textMode": "auto"
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Connection pool overflow events",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "yellow",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 22,
        "y": 9
      },
      "id": 24,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "(sum(rate({__name__=~\"${service}_${project}_cluster_upstream_cx_overflow_total\", client_name=~\"$client\"}[1m]))) or vector(0)",
          "legendFormat": "Overflow/s",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Cx Pool Overflow",
      "type": "stat",
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": [
            "lastNotNull"
          ],
          "fields": ""
        },
        "textMode": "auto"
      }
    },
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 100,
      "panels": [],
      "title": "Overview",
      "type": "row"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Rate of new downstream connections and active connections",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "short",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 18
      },
      "id": 25,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_cx_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Rate - HTTP: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)({__name__=\"${service}_${project}_http_downstream_cx_active\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"})",
          "legendFormat": "Active: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "Downstream Connections from Clients (http_downstream_cx_total, http_downstream_cx_active)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Rate of downstream connections destroyed with one or more active requests",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "cps",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 18
      },
      "id": 26,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_cx_destroy_active_rq_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Total: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_cx_destroy_local_active_rq_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Local Close: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "B"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_cx_destroy_remote_active_rq_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Remote Close: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "C"
        }
      ],
      "title": "Downstream Connections Destroyed with Active Requests (downstream_cx_destroy_active_rq_total, downstream_cx_destroy_local_active_rq_total, downstream_cx_destroy_remote_active_rq_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Rate of new downstream connections and currently active connections by HTTP protocol version",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "short",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 26
      },
      "id": 27,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_cx_http1_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Rate - HTTP/1: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_cx_http2_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Rate - HTTP/2: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "B"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_cx_http3_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Rate - HTTP/3: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "C"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)({__name__=\"${service}_${project}_http_downstream_cx_http1_active\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"})",
          "legendFormat": "Active - HTTP/1: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "D"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)({__name__=\"${service}_${project}_http_downstream_cx_http2_active\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"})",
          "legendFormat": "Active - HTTP/2: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "E"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)({__name__=\"${service}_${project}_http_downstream_cx_http3_active\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"})",
          "legendFormat": "Active - HTTP/3: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "F"
        }
      ],
      "title": "Downstream Connections by HTTP Version (http_downstream_cx_http1_total, http_downstream_cx_http2_total, http_downstream_cx_http3_total, http_downstream_cx_http1_active, http_downstream_cx_http2_active, http_downstream_cx_http3_active)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Duration distribution of downstream client connections",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "ms",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 26
      },
      "id": 28,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "histogram_quantile(0.5, sum by (le, envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_cx_length_ms_bucket\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m])))",
          "legendFormat": "p50: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "histogram_quantile(0.9, sum by (le, envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_cx_length_ms_bucket\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m])))",
          "legendFormat": "p90: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "B"
        },
        {
          "editorMode": "code",
          "expr": "histogram_quantile(0.95, sum by (le, envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_cx_length_ms_bucket\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m])))",
          "legendFormat": "p95: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "C"
        },
        {
          "editorMode": "code",
          "expr": "histogram_quantile(0.99, sum by (le, envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_cx_length_ms_bucket\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m])))",
          "legendFormat": "p99: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "D"
        }
      ],
      "title": "Downstream Connection Duration (http_downstream_cx_length_ms_bucket)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Rate of downstream connections being destroyed",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "cps",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 34
      },
      "id": 29,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_cx_destroy_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Total: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_cx_destroy_remote_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Remote Close: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "B"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_cx_destroy_local_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Local Close: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "C"
        }
      ],
      "title": "Downstream Connection Destroy Rate (downstream_cx_destroy_total, downstream_cx_destroy_remote_total, downstream_cx_destroy_local_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Rate of bytes received from (RX) and sent to (TX) downstream clients per second",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "Bps",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 34
      },
      "id": 30,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_cx_rx_bytes_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "RX: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_cx_tx_bytes_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "TX: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "Downstream Connection Bytes Rate (downstream_cx_rx_bytes_total, downstream_cx_tx_bytes_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Currently buffered bytes waiting to be received (RX) or sent (TX)",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "bytes",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 42
      },
      "id": 31,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)({__name__=\"${service}_${project}_http_downstream_cx_rx_bytes_buffered\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"})",
          "legendFormat": "RX Buffered: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)({__name__=\"${service}_${project}_http_downstream_cx_tx_bytes_buffered\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"})",
          "legendFormat": "TX Buffered: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "Downstream Connection Buffered Bytes (http_downstream_cx_rx_bytes_buffered, http_downstream_cx_tx_bytes_buffered)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Rate of protocol errors detected on downstream client connections",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "ops",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 42
      },
      "id": 32,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_cx_protocol_error_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "{{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Downstream Protocol Errors (downstream_cx_protocol_error_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Rate of downstream connections closed due to draining",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "cps",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 50
      },
      "id": 33,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_cx_drain_close_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "{{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Downstream Connections Closed Due to Draining (downstream_cx_drain_close_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Rate of downstream connections closed due to idle timeout and reaching configured limits",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "cps",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 50
      },
      "id": 34,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_cx_idle_timeout_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Idle Timeout: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_cx_max_duration_reached_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Max Duration: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "B"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_cx_max_requests_reached_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Max Requests: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "C"
        }
      ],
      "title": "Downstream Connections Closed Due to Timeout & Limits (downstream_cx_idle_timeout_total, downstream_cx_max_duration_reached_total, downstream_cx_max_requests_reached_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Rate of overload protection and flow control events",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "ops",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 58
      },
      "id": 35,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_cx_overload_disable_keepalive_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Keepalive Disabled (Overload): {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_flow_control_paused_reading_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Flow Control Paused: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "B"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_flow_control_resumed_reading_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Flow Control Resumed: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "C"
        }
      ],
      "title": "Downstream Overload & Flow Control Events (downstream_cx_overload_disable_keepalive_total, downstream_flow_control_paused_reading_total, downstream_flow_control_resumed_reading_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Rate of new SSL/TLS downstream connections and currently active SSL/TLS connections",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "short",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 58
      },
      "id": 36,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_cx_ssl_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Rate: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)({__name__=\"${service}_${project}_http_downstream_cx_ssl_active\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"})",
          "legendFormat": "Active: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "Downstream SSL/TLS Connections (http_downstream_cx_ssl_total, http_downstream_cx_ssl_active)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Rate of protocol upgrades on downstream connections and currently active upgraded connections",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "short",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 66
      },
      "id": 37,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_cx_upgrades_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Rate: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)({__name__=\"${service}_${project}_http_downstream_cx_upgrades_active\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"})",
          "legendFormat": "Active: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "Downstream Protocol Upgrades (downstream_cx_upgrades_total, downstream_cx_upgrades_active)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Number of HTTP/1 connections currently being soft-drained",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "short",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 66
      },
      "id": 38,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)({__name__=\"${service}_${project}_http_downstream_cx_http1_soft_drain\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"})",
          "legendFormat": "{{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "HTTP/1 Connections Being Soft Drained (http_downstream_cx_http1_soft_drain)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 17
      },
      "id": 101,
      "panels": [],
      "title": "Downstream - Connection Metrics",
      "type": "row"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Rate of downstream requests by HTTP protocol version",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "reqps",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 75
      },
      "id": 39,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_rq_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Total: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_rq_http1_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "HTTP/1: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "B"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_rq_http2_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "HTTP/2: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "C"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_rq_http3_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "HTTP/3: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "D"
        }
      ],
      "title": "Downstream Request Rate by HTTP Version (http_downstream_rq_total, http_downstream_rq_http1_total, http_downstream_rq_http2_total, http_downstream_rq_http3_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Rate of downstream responses by HTTP status code class (1xx, 2xx, 3xx, 4xx, 5xx)",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "reqps",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 75
      },
      "id": 40,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix, envoy_response_code_class)(rate({__name__=~\"${service}_${project}_http_downstream_rq_xx_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "{{envoy_response_code_class}}xx: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Downstream Response by HTTP Status Class (http_downstream_rq_xx_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Total time for request and response in milliseconds (p50, p90, p95, p99)",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "ms",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 83
      },
      "id": 41,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "histogram_quantile(0.5, sum by (le, envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_rq_time_bucket\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m])))",
          "legendFormat": "p50: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "histogram_quantile(0.9, sum by (le, envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_rq_time_bucket\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m])))",
          "legendFormat": "p90: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "B"
        },
        {
          "editorMode": "code",
          "expr": "histogram_quantile(0.95, sum by (le, envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_rq_time_bucket\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m])))",
          "legendFormat": "p95: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "C"
        },
        {
          "editorMode": "code",
          "expr": "histogram_quantile(0.99, sum by (le, envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_rq_time_bucket\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m])))",
          "legendFormat": "p99: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "D"
        }
      ],
      "title": "Downstream Request Time (http_downstream_rq_time_bucket)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Rate of downstream requests that completed successfully",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "reqps",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 83
      },
      "id": 42,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_rq_completed_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "HTTP: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Downstream Completed Requests (http_downstream_rq_completed_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Rate of downstream request errors",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "reqps",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 91
      },
      "id": 43,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_rq_rejected_via_ip_detection_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Rejected (IP Detection Failed): {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_rq_response_before_rq_complete_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Response Before Request Complete: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "B"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_rq_non_relative_path_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Non-Relative Path: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "C"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_rq_failed_path_normalization_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Failed Path Normalization: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "D"
        }
      ],
      "title": "Downstream Request Errors (http_downstream_rq_rejected_via_ip_detection_total, http_downstream_rq_response_before_rq_complete_total, http_downstream_rq_non_relative_path_total, http_downstream_rq_failed_path_normalization_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Rate of downstream request resets",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "reqps",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 91
      },
      "id": 44,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_rq_rx_reset_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "RX Reset (Received): {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_rq_tx_reset_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "TX Reset (Sent): {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "Downstream Request Resets (http_downstream_rq_rx_reset_total, http_downstream_rq_tx_reset_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Rate of requests resulting in 413 status",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "reqps",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 99
      },
      "id": 45,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_rq_too_large_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "{{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Downstream Requests Too Large - 413 Error (http_downstream_rq_too_large_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Total upgrade requests rejected by non-upgrade routes (WebSocket and non-WebSocket upgrades)",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "reqps",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 99
      },
      "id": 46,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_rq_ws_on_non_ws_route_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "{{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Downstream WebSocket Upgrade Rejections (http_downstream_rq_ws_on_non_ws_route_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Rate of requests closed due to timeouts and duration limits",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "reqps",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 107
      },
      "id": 47,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_rq_idle_timeout_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Idle Timeout: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_rq_timeout_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Request Timeout: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "B"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_rq_max_duration_reached_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Max Duration: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "C"
        }
      ],
      "title": "Downstream Request Timeout & Duration Errors (http_downstream_rq_idle_timeout_total, http_downstream_rq_timeout_total, http_downstream_rq_max_duration_reached_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Rate of various downstream request and response errors (overload, redirects, premature resets, oversized responses)",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "ops",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 107
      },
      "id": 48,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_rq_overload_close_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Overload Close: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_rq_redirected_with_normalized_path_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Redirected (Normalized Path): {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "B"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_downstream_rq_too_many_premature_resets_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Too Many Premature Resets: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "C"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http_rs_too_large_total\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Response Too Large: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "D"
        }
      ],
      "title": "Downstream Request & Response Errors (http_downstream_rq_overload_close_total, http_downstream_rq_redirected_with_normalized_path_total, http_downstream_rq_too_many_premature_resets_total, http_rs_too_large_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Rate of HTTP/3 QUIC connection close and stream reset errors (TX and RX)",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "ops",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 115
      },
      "id": 49,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http3_downstream_tx_quic_connection_close_error_code_.*_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Connection Close TX: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http3_downstream_rx_quic_connection_close_error_code_.*_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Connection Close RX: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "B"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http3_downstream_tx_quic_reset_stream_error_code_.*_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Stream Reset TX: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "C"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http3_downstream_rx_quic_reset_stream_error_code_.*_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Stream Reset RX: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "D"
        }
      ],
      "title": "HTTP/3 QUIC Errors (http3_downstream_tx_quic_connection_close_error_code, http3_downstream_rx_quic_connection_close_error_code, http3_downstream_tx_quic_reset_stream_error_code, http3_downstream_rx_quic_reset_stream_error_code)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Rate of HTTP/1 specific errors (header issues, metadata, response flooding)",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "ops",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 115
      },
      "id": 50,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http1_dropped_headers_with_underscores_total\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Dropped Headers: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http1_metadata_not_supported_error_total\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Metadata Error: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "B"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http1_response_flood_total\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Response Flood: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "C"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http1_requests_rejected_with_underscores_in_headers_total\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Rejected Requests: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "D"
        }
      ],
      "title": "HTTP/1 Protocol Errors (http1_dropped_headers_with_underscores_total, http1_metadata_not_supported_error_total, http1_response_flood_total, http1_requests_rejected_with_underscores_in_headers_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Rate of HTTP/2 header-related errors (dropped headers, rejected requests, overflow)",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "ops",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 123
      },
      "id": 51,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http2_dropped_headers_with_underscores_total\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Dropped Headers: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http2_requests_rejected_with_underscores_in_headers_total\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Rejected Requests: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "B"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http2_header_overflow_total\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Header Overflow: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "C"
        }
      ],
      "title": "HTTP/2 Header Errors (http2_dropped_headers_with_underscores_total, http2_requests_rejected_with_underscores_in_headers_total, http2_header_overflow_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Rate of HTTP/2 flood protection events (inbound empty/priority/window frames, outbound control/frames)",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "ops",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 123
      },
      "id": 52,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http2_inbound_empty_frames_flood_total\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Inbound Empty Frames: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http2_inbound_priority_frames_flood_total\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Inbound Priority Frames: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "B"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http2_inbound_window_update_frames_flood_total\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Inbound Window Update Frames: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "C"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http2_outbound_control_flood_total\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Outbound Control Flood: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "D"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http2_outbound_flood_total\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Outbound Flood: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "E"
        }
      ],
      "title": "HTTP/2 Flood Protection (http2_inbound_empty_frames_flood_total, http2_inbound_priority_frames_flood_total, http2_inbound_window_update_frames_flood_total, http2_outbound_control_flood_total, http2_outbound_flood_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Rate of HTTP/2 connection management events (goaway, keepalive timeout, flush timeout)",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "ops",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 131
      },
      "id": 53,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http2_goaway_sent_total\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Goaway Sent: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http2_keepalive_timeout_total\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Keepalive Timeout: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "B"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http2_tx_flush_timeout_total\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "TX Flush Timeout: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "C"
        }
      ],
      "title": "HTTP/2 Connection Events (http2_goaway_sent_total, http2_keepalive_timeout_total, http2_tx_flush_timeout_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Rate of HTTP/2 stream resets and errors (RX/TX resets, refused streams, messaging errors)",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "ops",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 131
      },
      "id": 54,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http2_rx_reset_total\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "RX Reset: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http2_tx_reset_total\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "TX Reset: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "B"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http2_stream_refused_errors_total\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Stream Refused: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "C"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http2_rx_messaging_error_total\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "RX Messaging Error: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "D"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http2_headers_cb_no_stream_total\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Headers No Stream: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "E"
        }
      ],
      "title": "HTTP/2 Stream Resets & Errors (http2_rx_reset_total, http2_tx_reset_total, http2_stream_refused_errors_total, http2_rx_messaging_error_total, http2_headers_cb_no_stream_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Current state of HTTP/2 streams and frames (active streams, frames, pending bytes)",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "short",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 139
      },
      "id": 55,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)({__name__=\"${service}_${project}_http2_streams_active\", client_name=~\"$client\"})",
          "legendFormat": "Active Streams: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)({__name__=\"${service}_${project}_http2_outbound_control_frames_active\", client_name=~\"$client\"})",
          "legendFormat": "Outbound Control Frames: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "B"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)({__name__=\"${service}_${project}_http2_outbound_frames_active\", client_name=~\"$client\"})",
          "legendFormat": "Outbound Frames: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "C"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)({__name__=\"${service}_${project}_http2_pending_send_bytes\", client_name=~\"$client\"})",
          "legendFormat": "Pending Send: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "D"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)({__name__=\"${service}_${project}_http2_deferred_stream_close\", client_name=~\"$client\"})",
          "legendFormat": "Deferred Stream Close: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "E"
        }
      ],
      "title": "HTTP/2 Active Streams & Frames (http2_streams_active, http2_outbound_control_frames_active, http2_outbound_frames_active, http2_pending_send_bytes, http2_deferred_stream_close)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Rate of HTTP/2 metadata and trailer events",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "ops",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 139
      },
      "id": 56,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http2_metadata_empty_frames_total\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Metadata Empty Frames: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http2_trailers_total\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Trailers: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "HTTP/2 Other Metrics (http2_metadata_empty_frames_total, http2_trailers_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Rate of HTTP/3 header-related errors (dropped headers, rejected requests)",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "ops",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 147
      },
      "id": 57,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http3_dropped_headers_with_underscores_total\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Dropped Headers: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http3_requests_rejected_with_underscores_in_headers_total\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Rejected Requests: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "HTTP/3 Header Errors (http3_dropped_headers_with_underscores_total, http3_requests_rejected_with_underscores_in_headers_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Rate of HTTP/3 stream reset frames (RX and TX)",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "ops",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 147
      },
      "id": 58,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http3_rx_reset_total\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "RX Reset: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http3_tx_reset_total\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "TX Reset: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "HTTP/3 Stream Resets (http3_rx_reset_total, http3_tx_reset_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Rate of metadata dropped during HTTP/3 encoding",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "ops",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 155
      },
      "id": 59,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http3_metadata_not_supported_error_total\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "{{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "HTTP/3 Metadata Errors (http3_metadata_not_supported_error_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Rate of QUIC connections by transport version (h3-29, rfc-v1)",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "cps",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 155
      },
      "id": 60,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http3_quic_version_h3_29_total\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "h3-29 (deprecated): {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_http3_quic_version_rfc_v1_total\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "RFC v1: {{envoy_http_conn_manager_prefix}}",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "HTTP/3 QUIC Protocol Versions (http3_quic_version_h3_29_total, http3_quic_version_rfc_v1_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 74
      },
      "id": 102,
      "panels": [],
      "title": "Downstream - Request Metrics",
      "type": "row"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Total and active connections to upstream",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "short",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 164
      },
      "id": 61,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_cx_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Total: {{envoy_cluster_name}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)({__name__=\"${service}_${project}_cluster_upstream_cx_active\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"})",
          "legendFormat": "Active: {{envoy_cluster_name}}",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "Upstream Connections Total & Active (cluster_upstream_cx_total, cluster_upstream_cx_active)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Upstream connections by HTTP version",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "short",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 164
      },
      "id": 62,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_cx_http1_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "HTTP/1: {{envoy_cluster_name}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_cx_http2_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "HTTP/2: {{envoy_cluster_name}}",
          "range": true,
          "refId": "B"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_cx_http3_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "HTTP/3: {{envoy_cluster_name}}",
          "range": true,
          "refId": "C"
        }
      ],
      "title": "Upstream Connections by HTTP Version (cluster_upstream_cx_http1_total, cluster_upstream_cx_http2_total, cluster_upstream_cx_http3_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Connection failures, timeouts and health issues",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "short",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 172
      },
      "id": 63,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_cx_connect_fail_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Connect Fail: {{envoy_cluster_name}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_cx_connect_timeout_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Connect Timeout: {{envoy_cluster_name}}",
          "range": true,
          "refId": "B"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_cx_idle_timeout_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Idle Timeout: {{envoy_cluster_name}}",
          "range": true,
          "refId": "C"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_cx_connect_attempts_exceeded_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Attempts Exceeded: {{envoy_cluster_name}}",
          "range": true,
          "refId": "D"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_cx_none_healthy_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "None Healthy: {{envoy_cluster_name}}",
          "range": true,
          "refId": "E"
        }
      ],
      "title": "Upstream Connection Failures & Timeouts (cluster_upstream_cx_connect_fail_total, cluster_upstream_cx_connect_timeout_total, cluster_upstream_cx_idle_timeout_total, cluster_upstream_cx_connect_attempts_exceeded_total, cluster_upstream_cx_none_healthy_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Connection establishment and length distribution",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "ms",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 172
      },
      "id": 64,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "histogram_quantile(0.99, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_cx_connect_ms_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
          "legendFormat": "Connect Time (p99): {{envoy_cluster_name}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "histogram_quantile(0.95, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_cx_connect_ms_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
          "legendFormat": "Connect Time (p95): {{envoy_cluster_name}}",
          "range": true,
          "refId": "B"
        },
        {
          "editorMode": "code",
          "expr": "histogram_quantile(0.9, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_cx_connect_ms_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
          "legendFormat": "Connect Time (p90): {{envoy_cluster_name}}",
          "range": true,
          "refId": "C"
        },
        {
          "editorMode": "code",
          "expr": "histogram_quantile(0.5, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_cx_connect_ms_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
          "legendFormat": "Connect Time (p50): {{envoy_cluster_name}}",
          "range": true,
          "refId": "D"
        },
        {
          "editorMode": "code",
          "expr": "histogram_quantile(0.99, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_cx_length_ms_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
          "legendFormat": "Length (p99): {{envoy_cluster_name}}",
          "range": true,
          "refId": "E"
        },
        {
          "editorMode": "code",
          "expr": "histogram_quantile(0.95, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_cx_length_ms_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
          "legendFormat": "Length (p95): {{envoy_cluster_name}}",
          "range": true,
          "refId": "F"
        },
        {
          "editorMode": "code",
          "expr": "histogram_quantile(0.9, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_cx_length_ms_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
          "legendFormat": "Length (p90): {{envoy_cluster_name}}",
          "range": true,
          "refId": "G"
        },
        {
          "editorMode": "code",
          "expr": "histogram_quantile(0.5, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_cx_length_ms_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
          "legendFormat": "Length (p50): {{envoy_cluster_name}}",
          "range": true,
          "refId": "H"
        }
      ],
      "title": "Upstream Connection Times (cluster_upstream_cx_connect_ms_bucket, cluster_upstream_cx_length_ms_bucket)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Reasons for connection destruction",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "short",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 180
      },
      "id": 65,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_cx_destroy_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Total: {{envoy_cluster_name}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_cx_destroy_local_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Local: {{envoy_cluster_name}}",
          "range": true,
          "refId": "B"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_cx_destroy_remote_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Remote: {{envoy_cluster_name}}",
          "range": true,
          "refId": "C"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_cx_destroy_with_active_rq_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "With Active RQ: {{envoy_cluster_name}}",
          "range": true,
          "refId": "D"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_cx_destroy_local_with_active_rq_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Local With Active RQ: {{envoy_cluster_name}}",
          "range": true,
          "refId": "E"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_cx_destroy_remote_with_active_rq_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Remote With Active RQ: {{envoy_cluster_name}}",
          "range": true,
          "refId": "F"
        }
      ],
      "title": "Upstream Connection Destroy Reasons (cluster_upstream_cx_destroy_total, cluster_upstream_cx_destroy_local_total, cluster_upstream_cx_destroy_remote_total, cluster_upstream_cx_destroy_with_active_rq_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Bytes sent and received",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "bytes",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 180
      },
      "id": 66,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_cx_rx_bytes_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "RX Total: {{envoy_cluster_name}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_cx_tx_bytes_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "TX Total: {{envoy_cluster_name}}",
          "range": true,
          "refId": "B"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)({__name__=\"${service}_${project}_cluster_upstream_cx_rx_bytes_buffered\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"})",
          "legendFormat": "RX Buffered: {{envoy_cluster_name}}",
          "range": true,
          "refId": "C"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)({__name__=\"${service}_${project}_cluster_upstream_cx_tx_bytes_buffered\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"})",
          "legendFormat": "TX Buffered: {{envoy_cluster_name}}",
          "range": true,
          "refId": "D"
        }
      ],
      "title": "Upstream Bytes (cluster_upstream_cx_rx_bytes_total, cluster_upstream_cx_tx_bytes_total, cluster_upstream_cx_rx_bytes_buffered, cluster_upstream_cx_tx_bytes_buffered)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Protocol errors, close notify and 0-RTT",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "short",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 188
      },
      "id": 67,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_cx_protocol_error_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Protocol Error: {{envoy_cluster_name}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_cx_close_notify_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Close Notify: {{envoy_cluster_name}}",
          "range": true,
          "refId": "B"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_cx_connect_with_0_rtt_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "0-RTT: {{envoy_cluster_name}}",
          "range": true,
          "refId": "C"
        }
      ],
      "title": "Upstream Protocol Errors & Misc (cluster_upstream_cx_protocol_error_total, cluster_upstream_cx_close_notify_total, cluster_upstream_cx_connect_with_0_rtt_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Connection limits, overflows and circuit breaking",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "short",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 188
      },
      "id": 68,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_cx_max_duration_reached_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Max Duration: {{envoy_cluster_name}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_cx_max_requests_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Max Requests: {{envoy_cluster_name}}",
          "range": true,
          "refId": "B"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_cx_overflow_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "CX Overflow: {{envoy_cluster_name}}",
          "range": true,
          "refId": "C"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_cx_pool_overflow_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Pool Overflow: {{envoy_cluster_name}}",
          "range": true,
          "refId": "D"
        }
      ],
      "title": "Upstream Connection Limits & Overflow (cluster_upstream_cx_max_duration_reached_total, cluster_upstream_cx_max_requests_total, cluster_upstream_cx_overflow_total, cluster_upstream_cx_pool_overflow_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 163
      },
      "id": 103,
      "panels": [],
      "title": "Upstream - Connection Metrics",
      "type": "row"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Total and active requests",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "reqps",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 197
      },
      "id": 69,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Total: {{envoy_cluster_name}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)({__name__=\"${service}_${project}_cluster_upstream_rq_active\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"})",
          "legendFormat": "Active: {{envoy_cluster_name}}",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "Upstream Requests Total & Active (cluster_upstream_rq_total, cluster_upstream_rq_active)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Pending requests and overflows",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "short",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 197
      },
      "id": 70,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_pending_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Pending Total: {{envoy_cluster_name}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)({__name__=\"${service}_${project}_cluster_upstream_rq_pending_active\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"})",
          "legendFormat": "Pending Active: {{envoy_cluster_name}}",
          "range": true,
          "refId": "B"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_pending_overflow_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Pending Overflow: {{envoy_cluster_name}}",
          "range": true,
          "refId": "C"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_pending_failure_eject_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Pending Eject: {{envoy_cluster_name}}",
          "range": true,
          "refId": "D"
        }
      ],
      "title": "Upstream Pending Requests (cluster_upstream_rq_pending_total, cluster_upstream_rq_pending_active, cluster_upstream_rq_pending_overflow_total, cluster_upstream_rq_pending_failure_eject_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Histogram of requests per connection",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "short",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 205
      },
      "id": 71,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "histogram_quantile(0.99, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_per_cx_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
          "legendFormat": "Requests/CX (p99): {{envoy_cluster_name}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "histogram_quantile(0.95, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_per_cx_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
          "legendFormat": "Requests/CX (p95): {{envoy_cluster_name}}",
          "range": true,
          "refId": "B"
        },
        {
          "editorMode": "code",
          "expr": "histogram_quantile(0.9, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_per_cx_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
          "legendFormat": "Requests/CX (p90): {{envoy_cluster_name}}",
          "range": true,
          "refId": "C"
        },
        {
          "editorMode": "code",
          "expr": "histogram_quantile(0.5, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_per_cx_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
          "legendFormat": "Requests/CX (p50): {{envoy_cluster_name}}",
          "range": true,
          "refId": "D"
        }
      ],
      "title": "Upstream Requests Per Connection (cluster_upstream_rq_per_cx_bucket)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Request resets, cancellations and maintenance",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "short",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 205
      },
      "id": 72,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_rx_reset_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "RX Reset: {{envoy_cluster_name}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_tx_reset_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "TX Reset: {{envoy_cluster_name}}",
          "range": true,
          "refId": "B"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_cancelled_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Cancelled: {{envoy_cluster_name}}",
          "range": true,
          "refId": "C"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_maintenance_mode_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Maintenance: {{envoy_cluster_name}}",
          "range": true,
          "refId": "D"
        }
      ],
      "title": "Upstream Request Resets & Cancellations (cluster_upstream_rq_rx_reset_total, cluster_upstream_rq_tx_reset_total, cluster_upstream_rq_cancelled_total, cluster_upstream_rq_maintenance_mode_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Request retry metrics",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "short",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 213
      },
      "id": 73,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_retry_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Retry Total: {{envoy_cluster_name}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_retry_success_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Retry Success: {{envoy_cluster_name}}",
          "range": true,
          "refId": "B"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_retry_limit_exceeded_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Limit Exceeded: {{envoy_cluster_name}}",
          "range": true,
          "refId": "C"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_retry_overflow_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Overflow: {{envoy_cluster_name}}",
          "range": true,
          "refId": "D"
        }
      ],
      "title": "Upstream Retries (cluster_upstream_rq_retry_total, cluster_upstream_rq_retry_success_total, cluster_upstream_rq_retry_limit_exceeded_total, cluster_upstream_rq_retry_overflow_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Request timeouts and duration limits",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "short",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 213
      },
      "id": 74,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_timeout_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Timeout: {{envoy_cluster_name}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_per_try_timeout_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Per Try Timeout: {{envoy_cluster_name}}",
          "range": true,
          "refId": "B"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_max_duration_reached_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Max Duration: {{envoy_cluster_name}}",
          "range": true,
          "refId": "C"
        }
      ],
      "title": "Upstream Request Timeouts & Duration (cluster_upstream_rq_timeout_total, cluster_upstream_rq_per_try_timeout_total, cluster_upstream_rq_max_duration_reached_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Flow control events",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "short",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 221
      },
      "id": 75,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_flow_control_paused_reading_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Paused: {{envoy_cluster_name}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_flow_control_resumed_reading_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Resumed: {{envoy_cluster_name}}",
          "range": true,
          "refId": "B"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_flow_control_backed_up_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Backed Up: {{envoy_cluster_name}}",
          "range": true,
          "refId": "C"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_flow_control_drained_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Drained: {{envoy_cluster_name}}",
          "range": true,
          "refId": "D"
        }
      ],
      "title": "Upstream Flow Control (cluster_upstream_flow_control_paused_reading_total, cluster_upstream_flow_control_resumed_reading_total, cluster_upstream_flow_control_backed_up_total, cluster_upstream_flow_control_drained_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "victoriametrics"
      },
      "description": "Internal redirect success and failure",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "short",
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "showValues": false,
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 221
      },
      "id": 76,
      "pluginVersion": "12.2.1",
      "targets": [
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_internal_redirect_failed_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Failed: {{envoy_cluster_name}}",
          "range": true,
          "refId": "A"
        },
        {
          "editorMode": "code",
          "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_internal_redirect_succeeded_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
          "legendFormat": "Succeeded: {{envoy_cluster_name}}",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "Upstream Internal Redirects (cluster_upstream_internal_redirect_failed_total, cluster_upstream_internal_redirect_succeeded_total)",
      "type": "timeseries",
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull",
            "max"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      }
    },
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 196
      },
      "id": 104,
      "panels": [],
      "title": "Upstream - Request Metrics",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 229
      },
      "id": 105,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "QUIC connection close error codes",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 230
          },
          "id": 77,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_tx_quic_connection_close_error_code_.*_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "TX Error: {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rx_quic_connection_close_error_code_.*_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "RX Error: {{envoy_cluster_name}}",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "QUIC Connection Close Errors (cluster_upstream_tx_quic_connection_close_error_code_.*_total, cluster_upstream_rx_quic_connection_close_error_code_.*_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "QUIC stream reset error codes",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 230
          },
          "id": 78,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_tx_quic_reset_stream_error_code_.*_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "TX Reset: {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rx_quic_reset_stream_error_code_.*_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "RX Reset: {{envoy_cluster_name}}",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "QUIC Stream Reset Errors (cluster_upstream_tx_quic_reset_stream_error_code_.*_total, cluster_upstream_rx_quic_reset_stream_error_code_.*_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "Upstream - HTTP/3 Statistics",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 238
      },
      "id": 106,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Active health check attempts, successes and failures",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 239
          },
          "id": 79,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_cluster_health_check_attempt_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Attempt",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_cluster_health_check_success_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Success",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_cluster_health_check_failure_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Failure",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Health Check Outcomes (cluster_health_check_attempt_total, cluster_health_check_success_total, cluster_health_check_failure_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Breakdown of health check failures by passive and network causes",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 239
          },
          "id": 80,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_cluster_health_check_passive_failure_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Passive Failure",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_cluster_health_check_network_failure_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Network Failure",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "Failure Types (cluster_health_check_passive_failure_total, cluster_health_check_network_failure_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Health checks that attempted cluster name verification",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 247
          },
          "id": 81,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_cluster_health_check_verify_cluster_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Verify Cluster",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Cluster Verification (cluster_health_check_verify_cluster_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Number of upstream hosts currently healthy vs total cluster membership",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 247
          },
          "id": 82,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum({__name__=\"${service}_${project}_cluster_health_check_healthy\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"})",
              "legendFormat": "Healthy",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum({__name__=\"${service}_${project}_cluster_membership_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"})",
              "legendFormat": "Total Hosts",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "Healthy Hosts (cluster_health_check_healthy, _cluster_membership_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "Upstream - Health Check",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 255
      },
      "id": 107,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Overview of outlier ejections",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 256
          },
          "id": 83,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)({__name__=\"${service}_${project}_cluster_outlier_detection_ejections_active\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"})",
              "legendFormat": "Active: {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_outlier_detection_ejections_enforced_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Enforced Total: {{envoy_cluster_name}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_outlier_detection_ejections_overflow_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Overflow: {{envoy_cluster_name}}",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_outlier_detection_ejections_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Total (Deprecated): {{envoy_cluster_name}}",
              "range": true,
              "refId": "D"
            }
          ],
          "title": "Ejections Overview (cluster_outlier_detection_ejections_active, cluster_outlier_detection_ejections_enforced_total, cluster_outlier_detection_ejections_overflow_total, cluster_outlier_detection_ejections_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Ejections due to consecutive 5xx and gateway failures",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 256
          },
          "id": 84,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_outlier_detection_ejections_enforced_consecutive_5xx_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Enforced 5xx: {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_outlier_detection_ejections_detected_consecutive_5xx_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Detected 5xx: {{envoy_cluster_name}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_outlier_detection_ejections_enforced_consecutive_gateway_failure_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Enforced Gateway: {{envoy_cluster_name}}",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_outlier_detection_ejections_detected_consecutive_gateway_failure_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Detected Gateway: {{envoy_cluster_name}}",
              "range": true,
              "refId": "D"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_outlier_detection_ejections_consecutive_5xx_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Consecutive 5xx (Deprecated): {{envoy_cluster_name}}",
              "range": true,
              "refId": "E"
            }
          ],
          "title": "Consecutive 5xx & Gateway Failures (cluster_outlier_detection_ejections_enforced_consecutive_5xx_total, cluster_outlier_detection_ejections_detected_consecutive_5xx_total, cluster_outlier_detection_ejections_enforced_consecutive_gateway_failure_total, cluster_outlier_detection_ejections_detected_consecutive_gateway_failure_total, cluster_outlier_detection_ejections_consecutive_5xx_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Ejections due to success rate outliers",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 264
          },
          "id": 85,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_outlier_detection_ejections_enforced_success_rate_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Enforced Success Rate: {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_outlier_detection_ejections_detected_success_rate_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Detected Success Rate: {{envoy_cluster_name}}",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "Success Rate Ejections (cluster_outlier_detection_ejections_enforced_success_rate_total, cluster_outlier_detection_ejections_detected_success_rate_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Ejections due to failure percentage outliers",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 264
          },
          "id": 86,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_outlier_detection_ejections_enforced_failure_percentage_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Enforced Failure %: {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_outlier_detection_ejections_detected_failure_percentage_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Detected Failure %: {{envoy_cluster_name}}",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "Failure Percentage Ejections (cluster_outlier_detection_ejections_enforced_failure_percentage_total, cluster_outlier_detection_ejections_detected_failure_percentage_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Ejections due to local origin failures",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 272
          },
          "id": 87,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_outlier_detection_ejections_enforced_consecutive_local_origin_failure_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Enforced Local Consecutive: {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_outlier_detection_ejections_detected_consecutive_local_origin_failure_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Detected Local Consecutive: {{envoy_cluster_name}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_outlier_detection_ejections_enforced_local_origin_success_rate_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Enforced Local Success Rate: {{envoy_cluster_name}}",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_outlier_detection_ejections_detected_local_origin_success_rate_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Detected Local Success Rate: {{envoy_cluster_name}}",
              "range": true,
              "refId": "D"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_outlier_detection_ejections_enforced_failure_percentage_local_origin_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Enforced Local Failure %: {{envoy_cluster_name}}",
              "range": true,
              "refId": "E"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_outlier_detection_ejections_detected_failure_percentage_local_origin_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Detected Local Failure %: {{envoy_cluster_name}}",
              "range": true,
              "refId": "F"
            }
          ],
          "title": "Local Origin Ejections (cluster_outlier_detection_ejections_enforced_consecutive_local_origin_failure_total, cluster_outlier_detection_ejections_detected_consecutive_local_origin_failure_total, cluster_outlier_detection_ejections_enforced_local_origin_success_rate_total, cluster_outlier_detection_ejections_detected_local_origin_success_rate_total, cluster_outlier_detection_ejections_enforced_failure_percentage_local_origin_total, cluster_outlier_detection_ejections_detected_failure_percentage_local_origin_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "Upstream - Outlier Detection",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 280
      },
      "id": 108,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Circuit breaker state (0=Closed, 1=Open)",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 281
          },
          "id": 88,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)({__name__=\"${service}_${project}_cluster_circuit_breakers_default_cx_open\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"})",
              "legendFormat": "CX Open: {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)({__name__=\"${service}_${project}_cluster_circuit_breakers_default_cx_pool_open\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"})",
              "legendFormat": "Pool Open: {{envoy_cluster_name}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)({__name__=\"${service}_${project}_cluster_circuit_breakers_default_rq_pending_open\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"})",
              "legendFormat": "Pending Open: {{envoy_cluster_name}}",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)({__name__=\"${service}_${project}_cluster_circuit_breakers_default_rq_open\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"})",
              "legendFormat": "RQ Open: {{envoy_cluster_name}}",
              "range": true,
              "refId": "D"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)({__name__=\"${service}_${project}_cluster_circuit_breakers_default_rq_retry_open\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"})",
              "legendFormat": "Retry Open: {{envoy_cluster_name}}",
              "range": true,
              "refId": "E"
            }
          ],
          "title": "Circuit Breaker State (cluster_circuit_breakers_default_cx_open, cluster_circuit_breakers_default_cx_pool_open, cluster_circuit_breakers_default_rq_pending_open, cluster_circuit_breakers_default_rq_open, cluster_circuit_breakers_default_rq_retry_open)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Remaining resources before circuit breaking",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 281
          },
          "id": 89,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)({__name__=\"${service}_${project}_cluster_circuit_breakers_default_remaining_cx\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"})",
              "legendFormat": "Remaining CX: {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)({__name__=\"${service}_${project}_cluster_circuit_breakers_default_remaining_pending\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"})",
              "legendFormat": "Remaining Pending: {{envoy_cluster_name}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)({__name__=\"${service}_${project}_cluster_circuit_breakers_default_remaining_rq\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"})",
              "legendFormat": "Remaining RQ: {{envoy_cluster_name}}",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)({__name__=\"${service}_${project}_cluster_circuit_breakers_default_remaining_retries\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"})",
              "legendFormat": "Remaining Retries: {{envoy_cluster_name}}",
              "range": true,
              "refId": "D"
            }
          ],
          "title": "Circuit Breaker Remaining Resources (cluster_circuit_breakers_default_remaining_cx, cluster_circuit_breakers_default_remaining_pending, cluster_circuit_breakers_default_remaining_rq, cluster_circuit_breakers_default_remaining_retries)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "Upstream - Circuit Breakers",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 289
      },
      "id": 109,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Percentage of global timeout used waiting for response",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "percent",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 290
          },
          "id": 90,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.99, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_timeout_budget_percent_used_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Global Timeout Used (p99): {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.95, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_timeout_budget_percent_used_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Global Timeout Used (p95): {{envoy_cluster_name}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.9, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_timeout_budget_percent_used_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Global Timeout Used (p90): {{envoy_cluster_name}}",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.5, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_timeout_budget_percent_used_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Global Timeout Used (p50): {{envoy_cluster_name}}",
              "range": true,
              "refId": "D"
            }
          ],
          "title": "Timeout Budget Percent Used (cluster_upstream_rq_timeout_budget_percent_used_bucket)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Percentage of per try timeout used waiting for response",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "percent",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 290
          },
          "id": 91,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.99, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_timeout_budget_per_try_percent_used_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Per Try Timeout Used (p99): {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.95, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_timeout_budget_per_try_percent_used_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Per Try Timeout Used (p95): {{envoy_cluster_name}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.9, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_timeout_budget_per_try_percent_used_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Per Try Timeout Used (p90): {{envoy_cluster_name}}",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.5, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_timeout_budget_per_try_percent_used_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Per Try Timeout Used (p50): {{envoy_cluster_name}}",
              "range": true,
              "refId": "D"
            }
          ],
          "title": "Timeout Budget Per Try Percent Used (cluster_upstream_rq_timeout_budget_per_try_percent_used_bucket)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "Upstream - Timeout Budget",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 298
      },
      "id": 110,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "General dynamic HTTP statistics",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 299
          },
          "id": 92,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_completed_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Completed: {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name, envoy_response_code_class)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_xx_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Response {{envoy_response_code_class}}xx: {{envoy_cluster_name}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_[0-9]{3}_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Code {{__name__}}: {{envoy_cluster_name}}",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "General HTTP Requests (cluster_upstream_rq_completed_total, cluster_upstream_rq_xx_total, cluster_upstream_rq_[0-9]{3}_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "General dynamic HTTP request time histogram",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ms",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 299
          },
          "id": 93,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.99, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_time_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Time (p99): {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.95, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_time_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Time (p95): {{envoy_cluster_name}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.9, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_time_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Time (p90): {{envoy_cluster_name}}",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.5, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_time_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Time (p50): {{envoy_cluster_name}}",
              "range": true,
              "refId": "D"
            }
          ],
          "title": "General HTTP Request Time (cluster_upstream_rq_time_bucket)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "External origin dynamic HTTP statistics",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 307
          },
          "id": 94,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_external_upstream_rq_completed_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "External Completed: {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name, envoy_response_code_class)(rate({__name__=~\"${service}_${project}_cluster_external_upstream_rq_xx_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "External Response {{envoy_response_code_class}}xx: {{envoy_cluster_name}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_external_upstream_rq_[0-9]{3}_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "External Code {{__name__}}: {{envoy_cluster_name}}",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "External Origin Requests (cluster_external_upstream_rq_completed_total, cluster_external_upstream_rq_xx_total, cluster_external_upstream_rq_[0-9]{3}_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "External origin dynamic HTTP request time histogram",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ms",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 307
          },
          "id": 95,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.99, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_external_upstream_rq_time_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "External Time (p99): {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.95, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_external_upstream_rq_time_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "External Time (p95): {{envoy_cluster_name}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.9, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_external_upstream_rq_time_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "External Time (p90): {{envoy_cluster_name}}",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.5, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_external_upstream_rq_time_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "External Time (p50): {{envoy_cluster_name}}",
              "range": true,
              "refId": "D"
            }
          ],
          "title": "External Origin Request Time (cluster_external_upstream_rq_time_bucket)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Canary dynamic HTTP statistics",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 315
          },
          "id": 96,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_canary_upstream_rq_completed_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Canary Completed: {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name, envoy_response_code_class)(rate({__name__=~\"${service}_${project}_cluster_canary_upstream_rq_xx_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Canary Response {{envoy_response_code_class}}xx: {{envoy_cluster_name}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_canary_upstream_rq_[0-9]{3}_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Canary Code {{__name__}}: {{envoy_cluster_name}}",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Canary HTTP Requests (cluster_canary_upstream_rq_completed_total, cluster_canary_upstream_rq_xx_total, cluster_canary_upstream_rq_[0-9]{3}_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Canary dynamic HTTP request time histogram",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ms",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 315
          },
          "id": 97,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.99, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_canary_upstream_rq_time_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Canary Time (p99): {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.95, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_canary_upstream_rq_time_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Canary Time (p95): {{envoy_cluster_name}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.9, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_canary_upstream_rq_time_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Canary Time (p90): {{envoy_cluster_name}}",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.5, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_canary_upstream_rq_time_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Canary Time (p50): {{envoy_cluster_name}}",
              "range": true,
              "refId": "D"
            }
          ],
          "title": "Canary HTTP Request Time (cluster_canary_upstream_rq_time_bucket)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Internal origin dynamic HTTP statistics",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 323
          },
          "id": 98,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_internal_upstream_rq_completed_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Internal Completed: {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name, envoy_response_code_class)(rate({__name__=~\"${service}_${project}_cluster_internal_upstream_rq_xx_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Internal Response {{envoy_response_code_class}}xx: {{envoy_cluster_name}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_internal_upstream_rq_[0-9]{3}_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Internal Code {{__name__}}: {{envoy_cluster_name}}",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Internal Origin Requests (cluster_internal_upstream_rq_completed_total, cluster_internal_upstream_rq_xx_total, cluster_internal_upstream_rq_[0-9]{3}_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Internal origin dynamic HTTP request time histogram",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ms",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 323
          },
          "id": 99,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.99, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_internal_upstream_rq_time_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Internal Time (p99): {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.95, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_internal_upstream_rq_time_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Internal Time (p95): {{envoy_cluster_name}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.9, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_internal_upstream_rq_time_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Internal Time (p90): {{envoy_cluster_name}}",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.5, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_internal_upstream_rq_time_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Internal Time (p50): {{envoy_cluster_name}}",
              "range": true,
              "refId": "D"
            }
          ],
          "title": "Internal Origin Request Time (cluster_internal_upstream_rq_time_bucket)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "Upstream - Dynamic HTTP Statistics",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 331
      },
      "id": 111,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "TLS connection state statistics",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 332
          },
          "id": 100,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_ssl_handshake_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Handshake: {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_ssl_session_reused_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Session Reused: {{envoy_cluster_name}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_ssl_connection_error_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Connection Error: {{envoy_cluster_name}}",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_ssl_no_certificate_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "No Certificate: {{envoy_cluster_name}}",
              "range": true,
              "refId": "D"
            }
          ],
          "title": "TLS Connection State (cluster_ssl_handshake_total, cluster_ssl_session_reused_total, cluster_ssl_connection_error_total, cluster_ssl_no_certificate_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "TLS verification failure statistics",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 332
          },
          "id": 101,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_ssl_fail_verify_no_cert_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Fail Verify No Cert: {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_ssl_fail_verify_error_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Fail Verify Error: {{envoy_cluster_name}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_ssl_fail_verify_san_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Fail Verify SAN: {{envoy_cluster_name}}",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_ssl_fail_verify_cert_hash_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Fail Verify Cert Hash: {{envoy_cluster_name}}",
              "range": true,
              "refId": "D"
            }
          ],
          "title": "TLS Verification Failures (cluster_ssl_fail_verify_no_cert_total, cluster_ssl_fail_verify_error_total, cluster_ssl_fail_verify_san_total, cluster_ssl_fail_verify_cert_hash_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "TLS OCSP stapling statistics",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 340
          },
          "id": 102,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_ssl_ocsp_staple_failed_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "OCSP Failed: {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_ssl_ocsp_staple_omitted_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "OCSP Omitted: {{envoy_cluster_name}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_ssl_ocsp_staple_responses_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "OCSP Responses: {{envoy_cluster_name}}",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_ssl_ocsp_staple_requests_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "OCSP Requests: {{envoy_cluster_name}}",
              "range": true,
              "refId": "D"
            }
          ],
          "title": "TLS OCSP Stapling (cluster_ssl_ocsp_staple_failed_total, cluster_ssl_ocsp_staple_omitted_total, cluster_ssl_ocsp_staple_responses_total, cluster_ssl_ocsp_staple_requests_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "TLS ciphers, curves, sigalgs, and versions statistics",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 340
          },
          "id": 103,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_ssl_ciphers_.*_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Cipher {{__name__}}: {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_ssl_curves_.*_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Curve {{__name__}}: {{envoy_cluster_name}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_ssl_sigalgs_.*_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "SigAlg {{__name__}}: {{envoy_cluster_name}}",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_ssl_versions_.*_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Version {{__name__}}: {{envoy_cluster_name}}",
              "range": true,
              "refId": "D"
            }
          ],
          "title": "TLS Ciphers & Versions (cluster_ssl_ciphers_.*_total, cluster_ssl_curves_.*_total, cluster_ssl_sigalgs_.*_total, cluster_ssl_versions_.*_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "TLS key usage statistics",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 348
          },
          "id": 104,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_ssl_was_key_usage_invalid_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Invalid Key Usage: {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "TLS Key Usage (cluster_ssl_was_key_usage_invalid_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "Upstream - TLS Statistics",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 356
      },
      "id": 112,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "TCP segment statistics",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 357
          },
          "id": 105,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_tcp_stats_cx_tx_segments_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "TX Segments: {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_tcp_stats_cx_rx_segments_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "RX Segments: {{envoy_cluster_name}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_tcp_stats_cx_tx_data_segments_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "TX Data Segments: {{envoy_cluster_name}}",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_tcp_stats_cx_rx_data_segments_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "RX Data Segments: {{envoy_cluster_name}}",
              "range": true,
              "refId": "D"
            }
          ],
          "title": "TCP Segments (cluster_tcp_stats_cx_tx_segments_total, cluster_tcp_stats_cx_rx_segments_total, cluster_tcp_stats_cx_tx_data_segments_total, cluster_tcp_stats_cx_rx_data_segments_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "TCP data and retransmission statistics",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 357
          },
          "id": 106,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_tcp_stats_cx_tx_retransmitted_segments_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Retransmitted Segments: {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_tcp_stats_cx_rx_bytes_received_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Bytes Received: {{envoy_cluster_name}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_tcp_stats_cx_tx_bytes_sent_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Bytes Sent: {{envoy_cluster_name}}",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "TCP Data & Retransmissions (cluster_tcp_stats_cx_tx_retransmitted_segments_total, cluster_tcp_stats_cx_rx_bytes_received_total, cluster_tcp_stats_cx_tx_bytes_sent_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "TCP queue and unacknowledged segments statistics",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 365
          },
          "id": 107,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)({__name__=\"${service}_${project}_cluster_tcp_stats_cx_tx_unsent_bytes\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"})",
              "legendFormat": "Unsent Bytes: {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)({__name__=\"${service}_${project}_cluster_tcp_stats_cx_tx_unacked_segments\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"})",
              "legendFormat": "Unacked Segments: {{envoy_cluster_name}}",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "TCP Queue & Unacked (cluster_tcp_stats_cx_tx_unsent_bytes, cluster_tcp_stats_cx_tx_unacked_segments)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "TCP retransmission rate histogram",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "percent",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 365
          },
          "id": 108,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.99, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_tcp_stats_cx_tx_percent_retransmitted_segments_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Retransmitted % (p99): {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.95, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_tcp_stats_cx_tx_percent_retransmitted_segments_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Retransmitted % (p95): {{envoy_cluster_name}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.9, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_tcp_stats_cx_tx_percent_retransmitted_segments_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Retransmitted % (p90): {{envoy_cluster_name}}",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.5, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_tcp_stats_cx_tx_percent_retransmitted_segments_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Retransmitted % (p50): {{envoy_cluster_name}}",
              "range": true,
              "refId": "D"
            }
          ],
          "title": "TCP Retransmission Rate (cluster_tcp_stats_cx_tx_percent_retransmitted_segments_bucket)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "TCP latency and variance histograms",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "s",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 373
          },
          "id": 109,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.99, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_tcp_stats_cx_rtt_us_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "RTT (p99): {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.95, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_tcp_stats_cx_rtt_us_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "RTT (p95): {{envoy_cluster_name}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.5, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_tcp_stats_cx_rtt_us_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "RTT (p50): {{envoy_cluster_name}}",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.99, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_tcp_stats_cx_rtt_variance_us_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "RTT Variance (p99): {{envoy_cluster_name}}",
              "range": true,
              "refId": "D"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.5, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_tcp_stats_cx_rtt_variance_us_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "RTT Variance (p50): {{envoy_cluster_name}}",
              "range": true,
              "refId": "E"
            }
          ],
          "title": "TCP Latency & Variance (cluster_tcp_stats_cx_rtt_us_bucket, cluster_tcp_stats_cx_rtt_variance_us_bucket)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "Upstream - TCP Statistics",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 381
      },
      "id": 113,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Load Balancer zone routing statistics",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 382
          },
          "id": 110,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_lb_recalculate_zone_structures_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Recalculate Zone Structures: {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_lb_zone_routing_all_directly_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Zone Routing All Directly: {{envoy_cluster_name}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_lb_zone_routing_sampled_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Zone Routing Sampled: {{envoy_cluster_name}}",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_lb_zone_routing_cross_zone_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Zone Routing Cross Zone: {{envoy_cluster_name}}",
              "range": true,
              "refId": "D"
            }
          ],
          "title": "LB Zone Routing (cluster_lb_recalculate_zone_structures_total, cluster_lb_zone_routing_all_directly_total, cluster_lb_zone_routing_sampled_total, cluster_lb_zone_routing_cross_zone_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Load Balancer errors and panic mode statistics",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 382
          },
          "id": 111,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_lb_healthy_panic_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Healthy Panic: {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_lb_zone_cluster_too_small_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Zone Cluster Too Small: {{envoy_cluster_name}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_lb_local_cluster_not_ok_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Local Cluster Not OK: {{envoy_cluster_name}}",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_lb_zone_no_capacity_left_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Zone No Capacity Left: {{envoy_cluster_name}}",
              "range": true,
              "refId": "D"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_original_dst_host_invalid_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Original Dst Host Invalid: {{envoy_cluster_name}}",
              "range": true,
              "refId": "E"
            }
          ],
          "title": "LB Errors & Panic (cluster_lb_healthy_panic_total, cluster_lb_zone_cluster_too_small_total, cluster_lb_local_cluster_not_ok_total, cluster_lb_zone_no_capacity_left_total, cluster_original_dst_host_invalid_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "Upstream - Load Balancer Statistics",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 390
      },
      "id": 114,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Load Balancer subset status statistics",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 391
          },
          "id": 112,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)({__name__=\"${service}_${project}_cluster_lb_subsets_active\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"})",
              "legendFormat": "Active Subsets: {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_lb_subsets_created_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Subsets Created: {{envoy_cluster_name}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_lb_subsets_removed_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Subsets Removed: {{envoy_cluster_name}}",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "LB Subset Status (cluster_lb_subsets_active, cluster_lb_subsets_created_total, cluster_lb_subsets_removed_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Load Balancer subset selection and fallback statistics",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 391
          },
          "id": 113,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_lb_subsets_selected_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Subsets Selected: {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_lb_subsets_fallback_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Fallback Invoked: {{envoy_cluster_name}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_lb_subsets_fallback_panic_total\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Fallback Panic: {{envoy_cluster_name}}",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "LB Subset Selection & Fallback (cluster_lb_subsets_selected_total, cluster_lb_subsets_fallback_total, cluster_lb_subsets_fallback_panic_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Load Balancer subset duplicate hosts statistics",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 399
          },
          "id": 114,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)({__name__=\"${service}_${project}_cluster_lb_subsets_single_host_per_subset_duplicate\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"})",
              "legendFormat": "Duplicate Hosts: {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "LB Subset Duplicates (cluster_lb_subsets_single_host_per_subset_duplicate)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "Upstream - Load Balancer Subset Statistics",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 407
      },
      "id": 115,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Ring Hash load balancer distribution statistics",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 408
          },
          "id": 115,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)({__name__=\"${service}_${project}_cluster_ring_hash_lb_size\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"})",
              "legendFormat": "Ring Size: {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)({__name__=\"${service}_${project}_cluster_ring_hash_lb_min_hashes_per_host\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"})",
              "legendFormat": "Min Hashes Per Host: {{envoy_cluster_name}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)({__name__=\"${service}_${project}_cluster_ring_hash_lb_max_hashes_per_host\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"})",
              "legendFormat": "Max Hashes Per Host: {{envoy_cluster_name}}",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Ring Hash Distribution (cluster_ring_hash_lb_size, cluster_ring_hash_lb_min_hashes_per_host, cluster_ring_hash_lb_max_hashes_per_host)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "Upstream - Ring Hash LB Statistics",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 416
      },
      "id": 116,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Maglev load balancer distribution statistics",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 417
          },
          "id": 116,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)({__name__=\"${service}_${project}_cluster_maglev_lb_min_entries_per_host\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"})",
              "legendFormat": "Min Entries Per Host: {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_cluster_name)({__name__=\"${service}_${project}_cluster_maglev_lb_max_entries_per_host\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"})",
              "legendFormat": "Max Entries Per Host: {{envoy_cluster_name}}",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "Maglev Distribution (cluster_maglev_lb_min_entries_per_host, cluster_maglev_lb_max_entries_per_host)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "Upstream - Maglev LB Statistics",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 425
      },
      "id": 117,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Request size statistics (headers, header count, body)",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "bytes",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 426
          },
          "id": 117,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.99, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_headers_size_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Headers Size (p99): {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.95, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_headers_size_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Headers Size (p95): {{envoy_cluster_name}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.5, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_headers_size_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Headers Size (p50): {{envoy_cluster_name}}",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.99, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_headers_count_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Headers Count (p99): {{envoy_cluster_name}}",
              "range": true,
              "refId": "D"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.95, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_headers_count_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Headers Count (p95): {{envoy_cluster_name}}",
              "range": true,
              "refId": "E"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.5, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_headers_count_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Headers Count (p50): {{envoy_cluster_name}}",
              "range": true,
              "refId": "F"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.99, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_body_size_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Body Size (p99): {{envoy_cluster_name}}",
              "range": true,
              "refId": "G"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.95, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_body_size_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Body Size (p95): {{envoy_cluster_name}}",
              "range": true,
              "refId": "H"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.5, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rq_body_size_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Body Size (p50): {{envoy_cluster_name}}",
              "range": true,
              "refId": "I"
            }
          ],
          "title": "Request Size (cluster_upstream_rq_headers_size_bucket, cluster_upstream_rq_headers_count_bucket, cluster_upstream_rq_body_size_bucket)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Response size statistics (headers, header count, body)",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "bytes",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 426
          },
          "id": 118,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.99, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rs_headers_size_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Headers Size (p99): {{envoy_cluster_name}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.95, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rs_headers_size_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Headers Size (p95): {{envoy_cluster_name}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.5, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rs_headers_size_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Headers Size (p50): {{envoy_cluster_name}}",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.99, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rs_headers_count_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Headers Count (p99): {{envoy_cluster_name}}",
              "range": true,
              "refId": "D"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.95, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rs_headers_count_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Headers Count (p95): {{envoy_cluster_name}}",
              "range": true,
              "refId": "E"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.5, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rs_headers_count_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Headers Count (p50): {{envoy_cluster_name}}",
              "range": true,
              "refId": "F"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.99, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rs_body_size_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Body Size (p99): {{envoy_cluster_name}}",
              "range": true,
              "refId": "G"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.95, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rs_body_size_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Body Size (p95): {{envoy_cluster_name}}",
              "range": true,
              "refId": "H"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.5, sum by (le, envoy_cluster_name)(rate({__name__=~\"${service}_${project}_cluster_upstream_rs_body_size_bucket\", envoy_cluster_name!=\"elchi-control-plane\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Body Size (p50): {{envoy_cluster_name}}",
              "range": true,
              "refId": "I"
            }
          ],
          "title": "Response Size (cluster_upstream_rs_headers_size_bucket, cluster_upstream_rs_headers_count_bucket, cluster_upstream_rs_body_size_bucket)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "Upstream - Request/Response Size Statistics",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 434
      },
      "id": 118,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Total, active, and destroyed listener connections",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 435
          },
          "id": 119,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_downstream_cx_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Total: {{envoy_listener_address}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)({__name__=\"${service}_${project}_listener_downstream_cx_active\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"})",
              "legendFormat": "Active: {{envoy_listener_address}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_downstream_cx_destroy_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Destroyed: {{envoy_listener_address}}",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Listener Connections (listener_downstream_cx_total, listener_downstream_cx_active, listener_downstream_cx_destroy_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Connections rejected due to limits and overload",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 435
          },
          "id": 120,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_downstream_cx_overflow_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Listener Overflow: {{envoy_listener_address}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_downstream_global_cx_overflow_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Global Overflow: {{envoy_listener_address}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_downstream_cx_overload_reject_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Overload Reject: {{envoy_listener_address}}",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Connection Overflow & Limits (listener_downstream_cx_overflow_total, listener_downstream_global_cx_overflow_total, listener_downstream_cx_overload_reject_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Connection timeouts during transport and filter processing",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 443
          },
          "id": 121,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_downstream_cx_transport_socket_connect_timeout_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Transport Timeout: {{envoy_listener_address}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_downstream_pre_cx_timeout_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Pre-Cx Timeout: {{envoy_listener_address}}",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "Connection Timeouts (listener_downstream_cx_transport_socket_connect_timeout_total, listener_downstream_pre_cx_timeout_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Active connections in listener filter processing",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 443
          },
          "id": 122,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)({__name__=\"${service}_${project}_listener_downstream_pre_cx_active\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"})",
              "legendFormat": "Pre-Cx Active: {{envoy_listener_address}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Listener Filter Processing (listener_downstream_pre_cx_active)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Connections closed due to missing filter configurations",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 451
          },
          "id": 123,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_extension_config_missing_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Listener Extension Missing: {{envoy_listener_address}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_network_extension_config_missing_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Network Extension Missing: {{envoy_listener_address}}",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "Filter Configuration Errors (listener_extension_config_missing_total, listener_network_extension_config_missing_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Filter chain mismatches and remote close events",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 451
          },
          "id": 124,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_no_filter_chain_match_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "No Chain Match: {{envoy_listener_address}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_downstream_listener_filter_remote_close_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Remote Close: {{envoy_listener_address}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_downstream_listener_filter_error_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Filter Error: {{envoy_listener_address}}",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Filter Chain & Remote Close (listener_no_filter_chain_match_total, listener_downstream_listener_filter_remote_close_total, listener_downstream_listener_filter_error_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Distribution of connection durations",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ms",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 459
          },
          "id": 125,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.99, sum by (le, envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_downstream_cx_length_ms_bucket\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Length (p99): {{envoy_listener_address}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.95, sum by (le, envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_downstream_cx_length_ms_bucket\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Length (p95): {{envoy_listener_address}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.5, sum by (le, envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_downstream_cx_length_ms_bucket\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Length (p50): {{envoy_listener_address}}",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Connection Length (listener_downstream_cx_length_ms_bucket)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Distribution of connections accepted per socket event",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 459
          },
          "id": 126,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.99, sum by (le, envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_connections_accepted_per_socket_event_bucket\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Accepted (p99): {{envoy_listener_address}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.95, sum by (le, envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_connections_accepted_per_socket_event_bucket\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Accepted (p95): {{envoy_listener_address}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.5, sum by (le, envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_connections_accepted_per_socket_event_bucket\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Accepted (p50): {{envoy_listener_address}}",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Connections Per Socket Event (listener_connections_accepted_per_socket_event_bucket)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "Listener",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 467
      },
      "id": 119,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "TLS handshakes and connection errors",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 468
          },
          "id": 127,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_ssl_handshake_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Handshake: {{envoy_listener_address}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_ssl_connection_error_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Error: {{envoy_listener_address}}",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "TLS Handshakes & Errors (listener_ssl_handshake_total, listener_ssl_connection_error_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Successful TLS session resumptions",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 468
          },
          "id": 128,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_ssl_session_reused_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Session Reused: {{envoy_listener_address}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "TLS Session Reuse (listener_ssl_session_reused_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Connections with or without client certificates",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 476
          },
          "id": 129,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_ssl_no_certificate_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "No Certificate: {{envoy_listener_address}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Client Certificate Status (listener_ssl_no_certificate_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Failed certificate verifications by type",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 476
          },
          "id": 130,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_ssl_fail_verify_no_cert_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "No Cert: {{envoy_listener_address}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_ssl_fail_verify_error_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "CA Error: {{envoy_listener_address}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_ssl_fail_verify_san_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "SAN Failed: {{envoy_listener_address}}",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_ssl_fail_verify_cert_hash_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Cert Hash Failed: {{envoy_listener_address}}",
              "range": true,
              "refId": "D"
            }
          ],
          "title": "Certificate Verification Failures (listener_ssl_fail_verify_no_cert_total, listener_ssl_fail_verify_error_total, listener_ssl_fail_verify_san_total, listener_ssl_fail_verify_cert_hash_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "OCSP stapling statistics",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 484
          },
          "id": 131,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_ssl_ocsp_staple_failed_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Failed: {{envoy_listener_address}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_ssl_ocsp_staple_omitted_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Omitted: {{envoy_listener_address}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_ssl_ocsp_staple_responses_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Responses: {{envoy_listener_address}}",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_ssl_ocsp_staple_requests_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Requests: {{envoy_listener_address}}",
              "range": true,
              "refId": "D"
            }
          ],
          "title": "OCSP Stapling (listener_ssl_ocsp_staple_failed_total, listener_ssl_ocsp_staple_omitted_total, listener_ssl_ocsp_staple_responses_total, listener_ssl_ocsp_staple_requests_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Successful connections by cipher",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 484
          },
          "id": 132,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address,envoy_ssl_cipher)(rate({__name__=~\"${service}_${project}_listener_ssl_ciphers_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "{{envoy_ssl_cipher}}: {{envoy_listener_address}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "TLS Ciphers (listener_ssl_ciphers_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Successful connections by TLS version",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 492
          },
          "id": 133,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address,envoy_ssl_version)(rate({__name__=~\"${service}_${project}_listener_ssl_versions_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "{{envoy_ssl_version}}: {{envoy_listener_address}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "TLS Protocol Versions (listener_ssl_versions_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "ECDHE curves and signature algorithms used",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 492
          },
          "id": 134,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address,envoy_ssl_curve)(rate({__name__=~\"${service}_${project}_listener_ssl_curves_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Curve {{envoy_ssl_curve}}: {{envoy_listener_address}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address,envoy_ssl_sigalg)(rate({__name__=~\"${service}_${project}_listener_ssl_sigalgs_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "SigAlg {{envoy_ssl_sigalg}}: {{envoy_listener_address}}",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "TLS Curves & Signature Algorithms (listener_ssl_curves_total, listener_ssl_sigalgs_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Connections with invalid keyUsage extension",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 500
          },
          "id": 135,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_ssl_was_key_usage_invalid_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Invalid Key Usage: {{envoy_listener_address}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Invalid Key Usage (listener_ssl_was_key_usage_invalid_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "Listener - TLS Statistics",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 508
      },
      "id": 120,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Total TCP segments transmitted and received",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 509
          },
          "id": 136,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_tcp_stats_cx_tx_segments_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "TX Segments: {{envoy_listener_address}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_tcp_stats_cx_rx_segments_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "RX Segments: {{envoy_listener_address}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_tcp_stats_cx_tx_data_segments_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "TX Data Segments: {{envoy_listener_address}}",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_tcp_stats_cx_rx_data_segments_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "RX Data Segments: {{envoy_listener_address}}",
              "range": true,
              "refId": "D"
            }
          ],
          "title": "TCP Segments (listener_tcp_stats_cx_tx_segments_total, listener_tcp_stats_cx_rx_segments_total, listener_tcp_stats_cx_tx_data_segments_total, listener_tcp_stats_cx_rx_data_segments_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Retransmitted TCP segments",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 509
          },
          "id": 137,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_tcp_stats_cx_tx_retransmitted_segments_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Retransmitted: {{envoy_listener_address}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "TCP Retransmissions (listener_tcp_stats_cx_tx_retransmitted_segments_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Payload bytes sent and received",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "bytes",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 517
          },
          "id": 138,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_tcp_stats_cx_tx_bytes_sent_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "TX Bytes: {{envoy_listener_address}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_tcp_stats_cx_rx_bytes_received_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "RX Bytes: {{envoy_listener_address}}",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "TCP Bytes Transferred (listener_tcp_stats_cx_tx_bytes_sent_total, listener_tcp_stats_cx_rx_bytes_received_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Unsent bytes and unacknowledged segments",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 517
          },
          "id": 139,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)({__name__=\"${service}_${project}_listener_tcp_stats_cx_tx_unsent_bytes\", client_name=~\"$client\"})",
              "legendFormat": "Unsent Bytes: {{envoy_listener_address}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)({__name__=\"${service}_${project}_listener_tcp_stats_cx_tx_unacked_segments\", client_name=~\"$client\"})",
              "legendFormat": "Unacked Segments: {{envoy_listener_address}}",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "TCP Buffer Status (listener_tcp_stats_cx_tx_unsent_bytes, listener_tcp_stats_cx_tx_unacked_segments)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Percent of segments retransmitted",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "percent",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 525
          },
          "id": 140,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.99, sum by (le, envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_tcp_stats_cx_tx_percent_retransmitted_segments_bucket\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Retransmit % (p99): {{envoy_listener_address}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.95, sum by (le, envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_tcp_stats_cx_tx_percent_retransmitted_segments_bucket\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Retransmit % (p95): {{envoy_listener_address}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.5, sum by (le, envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_tcp_stats_cx_tx_percent_retransmitted_segments_bucket\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Retransmit % (p50): {{envoy_listener_address}}",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "TCP Retransmit Percentage (listener_tcp_stats_cx_tx_percent_retransmitted_segments_bucket)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Smoothed RTT estimate in microseconds",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "s",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 525
          },
          "id": 141,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.99, sum by (le, envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_tcp_stats_cx_rtt_us_bucket\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "RTT (p99): {{envoy_listener_address}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.95, sum by (le, envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_tcp_stats_cx_rtt_us_bucket\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "RTT (p95): {{envoy_listener_address}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.5, sum by (le, envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_tcp_stats_cx_rtt_us_bucket\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "RTT (p50): {{envoy_listener_address}}",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "TCP Round Trip Time (RTT) (listener_tcp_stats_cx_rtt_us_bucket)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Estimated variance of round trip time",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "s",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 533
          },
          "id": 142,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.99, sum by (le, envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_tcp_stats_cx_rtt_variance_us_bucket\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "RTT Variance (p99): {{envoy_listener_address}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.95, sum by (le, envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_tcp_stats_cx_rtt_variance_us_bucket\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "RTT Variance (p95): {{envoy_listener_address}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.5, sum by (le, envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_tcp_stats_cx_rtt_variance_us_bucket\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "RTT Variance (p50): {{envoy_listener_address}}",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "TCP RTT Variance (listener_tcp_stats_cx_rtt_variance_us_bucket)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "Listener - TCP Statistics",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 541
      },
      "id": 121,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Total QUIC packets transmitted per listener",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ops",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 542
          },
          "id": 143,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_quic_stats_cx_tx_packets_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "TX: {{envoy_listener_address}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "QUIC Packets Transmitted (listener_quic_stats_cx_tx_packets_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Total QUIC packets received per listener",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ops",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 542
          },
          "id": 144,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_quic_stats_cx_rx_packets_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "RX: {{envoy_listener_address}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "QUIC Packets Received (listener_quic_stats_cx_rx_packets_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Total QUIC packets retransmitted per listener",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ops",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 550
          },
          "id": 145,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_quic_stats_cx_tx_packets_retransmitted_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Retransmitted: {{envoy_listener_address}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "QUIC Packets Retransmitted (listener_quic_stats_cx_tx_packets_retransmitted_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Number of packets throttled during server handshake response - indicates TLS certificate chain may be too long",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ops",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 550
          },
          "id": 146,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_quic_stats_cx_tx_amplification_throttling_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Throttled: {{envoy_listener_address}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "QUIC Amplification Throttling (listener_quic_stats_cx_tx_amplification_throttling_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Number of times network path degradation was detected",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ops",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 558
          },
          "id": 147,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_quic_stats_cx_path_degrading_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Degraded: {{envoy_listener_address}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "QUIC Path Degradation (listener_quic_stats_cx_path_degrading_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Number of times forward progress was made after path degradation",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ops",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 558
          },
          "id": 148,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_quic_stats_cx_forward_progress_after_path_degrading_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Recovered: {{envoy_listener_address}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "QUIC Path Recovery (listener_quic_stats_cx_forward_progress_after_path_degrading_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Smoothed round trip time estimate in microseconds",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "s",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 566
          },
          "id": 149,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.99, sum by (le, envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_quic_stats_cx_rtt_us_bucket\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "RTT (p99): {{envoy_listener_address}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.95, sum by (le, envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_quic_stats_cx_rtt_us_bucket\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "RTT (p95): {{envoy_listener_address}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.5, sum by (le, envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_quic_stats_cx_rtt_us_bucket\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "RTT (p50): {{envoy_listener_address}}",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "QUIC Round Trip Time (listener_quic_stats_cx_rtt_us_bucket)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Estimated connection bandwidth in bytes per second",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "Bps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 566
          },
          "id": 150,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.99, sum by (le, envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_quic_stats_cx_tx_estimated_bandwidth_bucket\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Bandwidth (p99): {{envoy_listener_address}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.95, sum by (le, envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_quic_stats_cx_tx_estimated_bandwidth_bucket\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Bandwidth (p95): {{envoy_listener_address}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.5, sum by (le, envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_quic_stats_cx_tx_estimated_bandwidth_bucket\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Bandwidth (p50): {{envoy_listener_address}}",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "QUIC Estimated Bandwidth (listener_quic_stats_cx_tx_estimated_bandwidth_bucket)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Percentage of packets retransmitted on a connection",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "percent",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 574
          },
          "id": 151,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.99, sum by (le, envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_quic_stats_cx_tx_percent_retransmitted_packets_bucket\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "% Retransmitted (p99): {{envoy_listener_address}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.95, sum by (le, envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_quic_stats_cx_tx_percent_retransmitted_packets_bucket\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "% Retransmitted (p95): {{envoy_listener_address}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.5, sum by (le, envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_quic_stats_cx_tx_percent_retransmitted_packets_bucket\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "% Retransmitted (p50): {{envoy_listener_address}}",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "QUIC Retransmitted Packets Percentage (listener_quic_stats_cx_tx_percent_retransmitted_packets_bucket)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Maximum transmission unit size for packets sent",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "bytes",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 574
          },
          "id": 152,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.99, sum by (le, envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_quic_stats_cx_tx_mtu_bucket\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "TX MTU (p99): {{envoy_listener_address}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.95, sum by (le, envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_quic_stats_cx_tx_mtu_bucket\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "TX MTU (p95): {{envoy_listener_address}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.5, sum by (le, envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_quic_stats_cx_tx_mtu_bucket\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "TX MTU (p50): {{envoy_listener_address}}",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "QUIC TX MTU Size (listener_quic_stats_cx_tx_mtu_bucket)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Size of the largest packet received from peer",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "bytes",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 582
          },
          "id": 153,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.99, sum by (le, envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_quic_stats_cx_rx_mtu_bucket\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "RX MTU (p99): {{envoy_listener_address}}",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.95, sum by (le, envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_quic_stats_cx_rx_mtu_bucket\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "RX MTU (p95): {{envoy_listener_address}}",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.5, sum by (le, envoy_listener_address)(rate({__name__=~\"${service}_${project}_listener_quic_stats_cx_rx_mtu_bucket\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "RX MTU (p50): {{envoy_listener_address}}",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "QUIC RX MTU Size (listener_quic_stats_cx_rx_mtu_bucket)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "Listener - QUIC Statistics",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 590
      },
      "id": 122,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Listener add, modify, remove, and stop operations",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ops",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 591
          },
          "id": 154,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_listener_manager_listener_added_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Added",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_listener_manager_listener_modified_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Modified",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_listener_manager_listener_removed_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Removed",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_listener_manager_listener_stopped_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Stopped",
              "range": true,
              "refId": "D"
            }
          ],
          "title": "Listener Lifecycle Operations (listener_manager_listener_added_total, listener_manager_listener_modified_total, listener_manager_listener_removed_total, listener_manager_listener_stopped_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Success and failure rates for listener creation",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ops",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 591
          },
          "id": 155,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_listener_manager_listener_create_success_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Success",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_listener_manager_listener_create_failure_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Failure",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "Listener Creation Status (listener_manager_listener_create_success_total, listener_manager_listener_create_failure_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Number of listener objects updated in place",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ops",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 599
          },
          "id": 156,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_listener_manager_listener_in_place_updated_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "In-Place Updated",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Listener In-Place Updates (listener_manager_listener_in_place_updated_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Total filter chains currently draining",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 599
          },
          "id": 157,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum({__name__=\"${service}_${project}_listener_manager_total_filter_chains_draining\", client_name=~\"$client\"})",
              "legendFormat": "Filter Chains Draining",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Filter Chains Draining (listener_manager_total_filter_chains_draining)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Current count of listeners in warming, active, and draining states",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 607
          },
          "id": 158,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum({__name__=\"${service}_${project}_listener_manager_total_listeners_warming\", client_name=~\"$client\"})",
              "legendFormat": "Warming",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum({__name__=\"${service}_${project}_listener_manager_total_listeners_active\", client_name=~\"$client\"})",
              "legendFormat": "Active",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum({__name__=\"${service}_${project}_listener_manager_total_listeners_draining\", client_name=~\"$client\"})",
              "legendFormat": "Draining",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Listener States (listener_manager_total_listeners_warming, listener_manager_total_listeners_active, listener_manager_total_listeners_draining)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Indicates if workers have been started on the listeners",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 607
          },
          "id": 159,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum({__name__=\"${service}_${project}_listener_manager_workers_started\", client_name=~\"$client\"})",
              "legendFormat": "Workers Started",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Workers Started (listener_manager_workers_started)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "Listener Manager",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 615
      },
      "id": 123,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Success and failure rates for principal updates",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ops",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 616
          },
          "id": 160,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_auth_clientssl_update_success_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Success",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_auth_clientssl_update_failure_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Failure",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "Principal Update Operations (auth_clientssl_update_success_total, auth_clientssl_update_failure_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Connection authentication outcomes - no SSL, IP allowlist, digest match/no match",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ops",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 616
          },
          "id": 161,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_auth_clientssl_auth_no_ssl_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "No SSL",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_auth_clientssl_auth_ip_allowlist_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "IP Allowlist",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_auth_clientssl_auth_digest_match_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Digest Match",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_auth_clientssl_auth_digest_no_match_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Digest No Match",
              "range": true,
              "refId": "D"
            }
          ],
          "title": "TLS Authentication Decisions (auth_clientssl_auth_no_ssl_total, auth_clientssl_auth_ip_allowlist_total, auth_clientssl_auth_digest_match_total, auth_clientssl_auth_digest_no_match_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Current number of loaded principals for TLS authentication",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 624
          },
          "id": 162,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum({__name__=\"${service}_${project}_auth_clientssl_total_principals\", client_name=~\"$client\"})",
              "legendFormat": "Total Principals",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Total Loaded Principals (auth_clientssl_total_principals)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "Network Filters - Client TLS Authentication",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 632
      },
      "id": 124,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Rate of connections rejected due to connection limit exceeded",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ops",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 633
          },
          "id": 163,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_connection_limit_limited_connections_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Limited Connections",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Limited Connections (connection_limit_limited_connections_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Current number of active connections in the scope of this network filter chain",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 633
          },
          "id": 164,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum({__name__=\"${service}_${project}_connection_limit_active_connections\", client_name=~\"$client\"})",
              "legendFormat": "Active Connections",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Active Connections (connection_limit_active_connections)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "Network Filters - Connection Limit",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 641
      },
      "id": 125,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Total responses from the external authorization service",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ops",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 642
          },
          "id": 165,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_config_ext_authz_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Total Responses",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Authorization Responses (config_ext_authz_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Authorization service decisions - OK, denied, disabled",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ops",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 642
          },
          "id": 166,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_config_ext_authz_ok_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "OK",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_config_ext_authz_denied_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Denied",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_config_ext_authz_disabled_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Disabled",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Authorization Decisions (config_ext_authz_ok_total, config_ext_authz_denied_total, config_ext_authz_disabled_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Errors contacting external service and failure mode allowed requests",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ops",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 650
          },
          "id": 167,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_config_ext_authz_error_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Error",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_config_ext_authz_failure_mode_allowed_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Failure Mode Allowed",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "Authorization Errors & Failures (config_ext_authz_error_total, config_ext_authz_failure_mode_allowed_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Closed connections and currently active requests",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 650
          },
          "id": 168,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_config_ext_authz_cx_closed_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Closed Connections",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum({__name__=\"${service}_${project}_config_ext_authz_active\", client_name=~\"$client\"})",
              "legendFormat": "Active Requests",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "Authorization Connection Status (config_ext_authz_cx_closed_total, config_ext_authz_active)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "Network Filters - External Authorization",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 658
      },
      "id": 126,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Total connections closed due to rate limit exceeded",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ops",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 659
          },
          "id": 169,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_local_ratelimit_rate_limited_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Rate Limited",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Rate Limited Connections (local_ratelimit_rate_limited_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "Network Filters - Local Rate Limit",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 667
      },
      "id": 127,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "MongoDB protocol decoding errors and delay injections",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ops",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 668
          },
          "id": 170,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_mongo_decoding_error_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Decoding Error",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_mongo_delay_injected_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Delay Injected",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "MongoDB Protocol Errors (mongo_decoding_error_total, mongo_delay_injected_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Rate of MongoDB operations by type",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ops",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 668
          },
          "id": 171,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_mongo_op_insert_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "OP_INSERT",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_mongo_op_query_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "OP_QUERY",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_mongo_op_get_more_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "OP_GET_MORE",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_mongo_op_kill_cursors_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "OP_KILL_CURSORS",
              "range": true,
              "refId": "D"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_mongo_op_reply_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "OP_REPLY",
              "range": true,
              "refId": "E"
            }
          ],
          "title": "MongoDB Operations (mongo_op_insert_total, mongo_op_query_total, mongo_op_get_more_total, mongo_op_kill_cursors_total, mongo_op_reply_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "OP_QUERY messages with various flags set",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ops",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 676
          },
          "id": 172,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_mongo_op_query_tailable_cursor_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Tailable Cursor",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_mongo_op_query_no_cursor_timeout_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "No Cursor Timeout",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_mongo_op_query_await_data_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Await Data",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_mongo_op_query_exhaust_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Exhaust",
              "range": true,
              "refId": "D"
            }
          ],
          "title": "MongoDB Query Flags (mongo_op_query_tailable_cursor_total, mongo_op_query_no_cursor_timeout_total, mongo_op_query_await_data_total, mongo_op_query_exhaust_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Query types and active queries",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 676
          },
          "id": 173,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_mongo_op_query_no_max_time_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "No MaxTime",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_mongo_op_query_scatter_get_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Scatter Get",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_mongo_op_query_multi_get_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Multi Get",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum({__name__=\"${service}_${project}_mongo_op_query_active\", client_name=~\"$client\"})",
              "legendFormat": "Active Queries",
              "range": true,
              "refId": "D"
            }
          ],
          "title": "MongoDB Query Types (mongo_op_query_no_max_time_total, mongo_op_query_scatter_get_total, mongo_op_query_multi_get_total, mongo_op_query_active)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "OP_REPLY messages with various status flags",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ops",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 684
          },
          "id": 174,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_mongo_op_reply_cursor_not_found_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Cursor Not Found",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_mongo_op_reply_query_failure_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Query Failure",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_mongo_op_reply_valid_cursor_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Valid Cursor",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "MongoDB Reply Status (mongo_op_reply_cursor_not_found_total, mongo_op_reply_query_failure_total, mongo_op_reply_valid_cursor_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Connection destruction with active queries and graceful drain closes",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ops",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 684
          },
          "id": 175,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_mongo_cx_destroy_local_with_active_rq_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Destroy Local (Active Query)",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_mongo_cx_destroy_remote_with_active_rq_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Destroy Remote (Active Query)",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_mongo_cx_drain_close_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Drain Close",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "MongoDB Connection Management (mongo_cx_destroy_local_with_active_rq_total, mongo_cx_destroy_remote_with_active_rq_total, mongo_cx_drain_close_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "Network Filters - MongoDB Proxy",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 692
      },
      "id": 128,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Total requests allowed and denied by RBAC filter",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ops",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 693
          },
          "id": 176,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_rbac_allowed_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Allowed",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_rbac_denied_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Denied",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "RBAC Access Decisions (rbac_allowed_total, rbac_denied_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Requests that would be allowed/denied by shadow rules",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ops",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 693
          },
          "id": 177,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_rbac_shadow_allowed_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Shadow Allowed",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_rbac_shadow_denied_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Shadow Denied",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "RBAC Shadow Rules (rbac_shadow_allowed_total, rbac_shadow_denied_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Requests that should/should not be logged",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ops",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 701
          },
          "id": 178,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_rbac_logged_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Logged",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_rbac_not_logged_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Not Logged",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "RBAC Logging Decisions (rbac_logged_total, rbac_not_logged_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "Network Filters - RBAC",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 709
      },
      "id": 129,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Total connections handled and connections with no route",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "cps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 710
          },
          "id": 179,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_tcp_downstream_cx_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Total Connections",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_tcp_downstream_cx_no_route_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "No Route",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "TCP Downstream Connections (tcp_downstream_cx_total, tcp_downstream_cx_no_route_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Total and buffered bytes written to downstream",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "Bps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 710
          },
          "id": 180,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_tcp_downstream_cx_tx_bytes_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "TX Total",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum({__name__=\"${service}_${project}_tcp_downstream_cx_tx_bytes_buffered\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"})",
              "legendFormat": "TX Buffered",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "TCP Downstream Bytes Transmitted (tcp_downstream_cx_tx_bytes_total, tcp_downstream_cx_tx_bytes_buffered)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Total and buffered bytes read from downstream",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "Bps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 718
          },
          "id": 181,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_tcp_downstream_cx_rx_bytes_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "RX Total",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum({__name__=\"${service}_${project}_tcp_downstream_cx_rx_bytes_buffered\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"})",
              "legendFormat": "RX Buffered",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "TCP Downstream Bytes Received (tcp_downstream_cx_rx_bytes_total, tcp_downstream_cx_rx_bytes_buffered)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Flow control paused and resumed reading from downstream",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ops",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 718
          },
          "id": 182,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_tcp_downstream_flow_control_paused_reading_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Paused Reading",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_tcp_downstream_flow_control_resumed_reading_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Resumed Reading",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "TCP Flow Control (tcp_downstream_flow_control_paused_reading_total, tcp_downstream_flow_control_resumed_reading_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Connections closed due to idle timeout and max duration",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ops",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 726
          },
          "id": 183,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_tcp_idle_timeout_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Idle Timeout",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_tcp_max_downstream_connection_duration_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Max Duration",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "TCP Connection Timeouts (tcp_idle_timeout_total, tcp_max_downstream_connection_duration_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "On-demand cluster requests and their outcomes",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ops",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 726
          },
          "id": 184,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_tcp_on_demand_cluster_attempt_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Attempt",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_tcp_on_demand_cluster_success_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Success",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_tcp_on_demand_cluster_missing_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Missing",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_tcp_on_demand_cluster_timeout_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Timeout",
              "range": true,
              "refId": "D"
            }
          ],
          "title": "TCP On-Demand Cluster (tcp_on_demand_cluster_attempt_total, tcp_on_demand_cluster_success_total, tcp_on_demand_cluster_missing_total, tcp_on_demand_cluster_timeout_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Upstream flush operations and early data received",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 734
          },
          "id": 185,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_tcp_upstream_flush_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Flush Total",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum({__name__=\"${service}_${project}_tcp_upstream_flush_active\", client_name=~\"$client\"})",
              "legendFormat": "Flush Active",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_tcp_early_data_received_count_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Early Data Received",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "TCP Upstream Flush & Early Data (tcp_upstream_flush_total, tcp_upstream_flush_active, tcp_early_data_received_count_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "Network Filters - TCP Proxy",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 742
      },
      "id": 130,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Total requests blocked by the adaptive concurrency filter",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 743
          },
          "id": 186,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*adaptive_concurrency_gradient_controller_rq_blocked_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "{{envoy_http_conn_manager_prefix}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Blocked Requests (http_adaptive_concurrency_gradient_controller_rq_blocked_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Indicates if the controller is calculating minimum RTT (1=active, 0=inactive)",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 743
          },
          "id": 187,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)({__name__=\"${service}_${project}_.*adaptive_concurrency_gradient_controller_min_rtt_calculation_active\", client_name=~\"$client\"})",
              "legendFormat": "{{envoy_http_conn_manager_prefix}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Min RTT Calculation Active (http_adaptive_concurrency_gradient_controller_min_rtt_calculation_active)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Current concurrency limit enforced by the adaptive concurrency controller",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 751
          },
          "id": 188,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)({__name__=\"${service}_${project}_.*adaptive_concurrency_gradient_controller_concurrency_limit\", client_name=~\"$client\"})",
              "legendFormat": "{{envoy_http_conn_manager_prefix}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Concurrency Limit (http_adaptive_concurrency_gradient_controller_concurrency_limit)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Current gradient value (multiplied by 1000, ranges 500-2000)",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 751
          },
          "id": 189,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)({__name__=\"${service}_${project}_.*adaptive_concurrency_gradient_controller_gradient\", client_name=~\"$client\"})",
              "legendFormat": "{{envoy_http_conn_manager_prefix}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Gradient Value (http_adaptive_concurrency_gradient_controller_gradient)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Current headroom value in the concurrency limit calculation",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 759
          },
          "id": 190,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)({__name__=\"${service}_${project}_.*adaptive_concurrency_gradient_controller_burst_queue_size\", client_name=~\"$client\"})",
              "legendFormat": "{{envoy_http_conn_manager_prefix}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Burst Queue Size (http_adaptive_concurrency_gradient_controller_burst_queue_size)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Current measured minimum round-trip time",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ms",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 759
          },
          "id": 191,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)({__name__=\"${service}_${project}_.*adaptive_concurrency_gradient_controller_min_rtt_msecs\", client_name=~\"$client\"})",
              "legendFormat": "{{envoy_http_conn_manager_prefix}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Minimum RTT (http_adaptive_concurrency_gradient_controller_min_rtt_msecs)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Current measured sample round-trip time aggregate",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ms",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 767
          },
          "id": 192,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)({__name__=\"${service}_${project}_.*adaptive_concurrency_gradient_controller_sample_rtt_msecs\", client_name=~\"$client\"})",
              "legendFormat": "{{envoy_http_conn_manager_prefix}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Sample RTT (http_adaptive_concurrency_gradient_controller_sample_rtt_msecs)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "HTTP Filter - Adaptive Concurrency (Gradient Controller)",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 775
      },
      "id": 131,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Total requests that were not admitted by the filter",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 776
          },
          "id": 193,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*admission_control_rq_rejected_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "{{envoy_http_conn_manager_prefix}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Rejected Requests (http_admission_control_rq_rejected_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Total requests that were considered a success",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 776
          },
          "id": 194,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*admission_control_rq_success_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "{{envoy_http_conn_manager_prefix}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Successful Requests (http_admission_control_rq_success_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Total requests that were considered a failure",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 784
          },
          "id": 195,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*admission_control_rq_failure_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "{{envoy_http_conn_manager_prefix}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Failed Requests (http_admission_control_rq_failure_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "HTTP Filter - Admission Control",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 792
      },
      "id": 132,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Total number of requests allowed by the API key authentication filter",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 793
          },
          "id": 196,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*api_key_auth_allowed_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "{{envoy_http_conn_manager_prefix}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Allowed Requests (http_api_key_auth_allowed_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Total number of requests with invalid API key",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 793
          },
          "id": 197,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*api_key_auth_unauthorized_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "{{envoy_http_conn_manager_prefix}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Unauthorized Requests (http_api_key_auth_unauthorized_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Total number of requests with valid API key but insufficient privileges",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 801
          },
          "id": 198,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*api_key_auth_forbidden_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "{{envoy_http_conn_manager_prefix}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Forbidden Requests (http_api_key_auth_forbidden_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "HTTP Filter - API Key Auth",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 809
      },
      "id": 133,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Request-side bandwidth limiter decisions and total transferred data",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 810
          },
          "id": 199,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*http_bandwidth_limit_request_enabled_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Request Enabled",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*http_bandwidth_limit_request_enforced_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Request Enforced",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*http_bandwidth_limit_request_incoming_total_size_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Incoming Size Total",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*http_bandwidth_limit_request_allowed_total_size_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Allowed Size Total",
              "range": true,
              "refId": "D"
            }
          ],
          "title": "Request Bandwidth Limit - Counters (http_bandwidth_limit_request_enabled_total, http_bandwidth_limit_request_enforced_total, http_bandwidth_limit_request_incoming_total_size_total, http_bandwidth_limit_request_allowed_total_size_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Current request pending streams and data sizes",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 810
          },
          "id": 200,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)({__name__=\"${service}_${project}_.*http_bandwidth_limit_request_pending\", client_name=~\"$client\"})",
              "legendFormat": "Request Pending",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)({__name__=\"${service}_${project}_.*http_bandwidth_limit_request_incoming_size\", client_name=~\"$client\"})",
              "legendFormat": "Incoming Size",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)({__name__=\"${service}_${project}_.*http_bandwidth_limit_request_allowed_size\", client_name=~\"$client\"})",
              "legendFormat": "Allowed Size",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Request Bandwidth Limit - Gauges (http_bandwidth_limit_request_pending, http_bandwidth_limit_request_incoming_size, http_bandwidth_limit_request_allowed_size)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Histogram of total transfer duration (including added delay)",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ms",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 818
          },
          "id": 201,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.95, sum by (le, envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*http_bandwidth_limit_request_transfer_duration\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Request Transfer Duration",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Request Transfer Duration (http_bandwidth_limit_request_transfer_duration)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Response-side bandwidth limiter decisions and total transferred data",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 818
          },
          "id": 202,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*http_bandwidth_limit_response_enabled_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Response Enabled",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*http_bandwidth_limit_response_enforced_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Response Enforced",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*http_bandwidth_limit_response_incoming_total_size_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Incoming Size Total",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*http_bandwidth_limit_response_allowed_total_size_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Allowed Size Total",
              "range": true,
              "refId": "D"
            }
          ],
          "title": "Response Bandwidth Limit - Counters (http_bandwidth_limit_response_enabled_total, http_bandwidth_limit_response_enforced_total, http_bandwidth_limit_response_incoming_total_size_total, http_bandwidth_limit_response_allowed_total_size_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Current response pending streams and data sizes",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 826
          },
          "id": 203,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)({__name__=\"${service}_${project}_.*http_bandwidth_limit_response_pending\", client_name=~\"$client\"})",
              "legendFormat": "Response Pending",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)({__name__=\"${service}_${project}_.*http_bandwidth_limit_response_incoming_size\", client_name=~\"$client\"})",
              "legendFormat": "Incoming Size",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)({__name__=\"${service}_${project}_.*http_bandwidth_limit_response_allowed_size\", client_name=~\"$client\"})",
              "legendFormat": "Allowed Size",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Response Bandwidth Limit - Gauges (http_bandwidth_limit_response_pending, http_bandwidth_limit_response_incoming_size, http_bandwidth_limit_response_allowed_size)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Histogram of total transfer duration for response streams",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ms",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 826
          },
          "id": 204,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.95, sum by (le, envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*http_bandwidth_limit_response_transfer_duration\", client_name=~\"$client\"}[1m])))",
              "legendFormat": "Response Transfer Duration",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Response Transfer Duration (http_bandwidth_limit_response_transfer_duration)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "HTTP Filter - Bandwidth Limit",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 834
      },
      "id": 134,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Total number of requests allowed by the Basic Auth filter",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 835
          },
          "id": 205,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*basic_auth_allowed_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "{{envoy_http_conn_manager_prefix}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Allowed Requests (http_basic_auth_allowed_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Total number of requests denied by the Basic Auth filter",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 835
          },
          "id": 206,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*basic_auth_denied_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "{{envoy_http_conn_manager_prefix}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Denied Requests (http_basic_auth_denied_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "HTTP Filter - Basic Auth",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 843
      },
      "id": 135,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Compressed / uncompressed request counts and compression decisions",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 844
          },
          "id": 207,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*compressor.*compressed_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Compressed",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*compressor.*not_compressed_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Not Compressed",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*compressor.*content_length_too_small_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Content Too Small",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Compression Results (http_compressor_compressed_total, http_compressor_not_compressed_total, http_compressor_content_length_too_small_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Total uncompressed / compressed bytes handled by this filter",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "bytesps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 844
          },
          "id": 208,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*compressor.*total_uncompressed_bytes_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Uncompressed Bytes",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*compressor.*total_compressed_bytes_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Compressed Bytes",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "Compression Size Totals (http_compressor_total_uncompressed_bytes_total, http_compressor_total_compressed_bytes_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Response-only header-based compression decisions",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 852
          },
          "id": 209,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*compressor.*no_accept_header_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "No Accept Header",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*compressor.*header_identity_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Header: identity",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*compressor.*header_compressor_used_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Header: compressor used",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*compressor.*header_compressor_overshadowed_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Header: overshadowed",
              "range": true,
              "refId": "D"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*compressor.*header_wildcard_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Header: wildcard",
              "range": true,
              "refId": "E"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*compressor.*header_not_valid_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Header: invalid",
              "range": true,
              "refId": "F"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*compressor.*not_compressed_etag_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Not Compressed: ETag",
              "range": true,
              "refId": "G"
            }
          ],
          "title": "Response Header Compression Stats (http_compressor_no_accept_header_total, http_compressor_header_identity_total, http_compressor_header_compressor_used_total, http_compressor_header_compressor_overshadowed_total, http_compressor_header_wildcard_total, http_compressor_header_not_valid_total, http_compressor_not_compressed_etag_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "HTTP Filter - Compressor",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 860
      },
      "id": 136,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Valid and invalid Origin header counts for CORS requests",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 861
          },
          "id": 210,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*cors.*origin_valid_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Origin Valid",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*cors.*origin_invalid_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Origin Invalid",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "CORS Origin Validation (http_cors_origin_valid_total, http_cors_origin_invalid_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "HTTP Filter - CORS",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 869
      },
      "id": 137,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Core credential injection statistics",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 870
          },
          "id": 211,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*credential_injector.*injected_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Injected",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*credential_injector.*failed_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Failed",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*credential_injector.*already_exists_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Already Exists",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Credential Injection (http_credential_injector_injected_total, http_credential_injector_failed_total, http_credential_injector_already_exists_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "OAuth2 token fetching and credential injection failures",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 870
          },
          "id": 212,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*credential_injector.oauth2.*token_requested_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Token Requested",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*credential_injector.oauth2.*token_fetched_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Token Fetched",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*credential_injector.oauth2.*token_fetch_failed_on_client_secret_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Failed: Missing Client Secret",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*credential_injector.oauth2.*token_fetch_failed_on_cluster_not_found_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Failed: Cluster Not Found",
              "range": true,
              "refId": "D"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*credential_injector.oauth2.*token_fetch_failed_on_bad_response_code_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Failed: Bad Response Code",
              "range": true,
              "refId": "E"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*credential_injector.oauth2.*token_fetch_failed_on_bad_token_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Failed: Bad Token",
              "range": true,
              "refId": "F"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*credential_injector.oauth2.*token_fetch_failed_on_stream_reset_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Failed: Stream Reset",
              "range": true,
              "refId": "G"
            }
          ],
          "title": "OAuth2 Credential Injection (http_credential_injector_oauth2_token_requested_total, http_credential_injector_oauth2_token_fetched_total, http_credential_injector_oauth2_token_fetch_failed_on_client_secret_total, http_credential_injector_oauth2_token_fetch_failed_on_cluster_not_found_total, http_credential_injector_oauth2_token_fetch_failed_on_bad_response_code_total, http_credential_injector_oauth2_token_fetch_failed_on_bad_token_total, http_credential_injector_oauth2_token_fetch_failed_on_stream_reset_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "HTTP Filter - Credential Injector",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 878
      },
      "id": 138,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Validation of source origin and matching target origins",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 879
          },
          "id": 213,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*csrf.*missing_source_origin_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Missing Source Origin",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*csrf.*request_invalid_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Request Invalid",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*csrf.*request_valid_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Request Valid",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "CSRF Validation (http_csrf_missing_source_origin_total, http_csrf_request_invalid_total, http_csrf_request_valid_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "HTTP Filter - CSRF",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 887
      },
      "id": 139,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Responses and decisions from the external authorization service",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 888
          },
          "id": 214,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*ext_authz_ok_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "OK (Allowed)",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*ext_authz_error_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Error",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*ext_authz_denied_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Denied",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*ext_authz_disabled_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Disabled",
              "range": true,
              "refId": "D"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*ext_authz_failure_mode_allowed_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Failure Mode Allowed",
              "range": true,
              "refId": "E"
            }
          ],
          "title": "Authorization Outcomes (cluster_ext_authz_ok_total, cluster_ext_authz_error_total, cluster_ext_authz_denied_total, cluster_ext_authz_disabled_total, cluster_ext_authz_failure_mode_allowed_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Header mutation failures, invalid responses, and mutation-limit violations",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 888
          },
          "id": 215,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*ext_authz_invalid_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Invalid Mutation",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*ext_authz_omitted_response_headers_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Omitted Response Headers",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*ext_authz_request_header_limits_reached_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Request Mutation Limit",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*ext_authz_response_header_limits_reached_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Response Mutation Limit",
              "range": true,
              "refId": "D"
            }
          ],
          "title": "Header Mutation & Validation (cluster_ext_authz_invalid_total, cluster_ext_authz_omitted_response_headers_total, cluster_ext_authz_request_header_limits_reached_total, cluster_ext_authz_response_header_limits_reached_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "HTTP Filter - Ext Authz",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 896
      },
      "id": 140,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Tracks ext_proc gRPC stream creation, closures, message counts, and protocol errors",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 897
          },
          "id": 216,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*ext_proc.*streams_started_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Streams Started",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*ext_proc.*stream_msgs_sent_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Messages Sent",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*ext_proc.*stream_msgs_received_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Messages Received",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*ext_proc.*spurious_msgs_received_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Spurious Messages",
              "range": true,
              "refId": "D"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*ext_proc.*streams_closed_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Streams Closed",
              "range": true,
              "refId": "E"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*ext_proc.*streams_failed_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Streams Failed",
              "range": true,
              "refId": "F"
            }
          ],
          "title": "Stream Lifecycle & Messaging (http_ext_proc_streams_started_total, http_ext_proc_stream_msgs_sent_total, http_ext_proc_stream_msgs_received_total, http_ext_proc_spurious_msgs_received_total, http_ext_proc_streams_closed_total, http_ext_proc_streams_failed_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Timeout-related events, failure_mode_allowed events, and header mutation rejections",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 897
          },
          "id": 217,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*ext_proc.*failure_mode_allowed_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Failure Mode Allowed",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*ext_proc.*message_timeouts_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Message Timeouts",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*ext_proc.*rejected_header_mutations_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Rejected Header Mutations",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*ext_proc.*override_message_timeout_received_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Override Timeout Received",
              "range": true,
              "refId": "D"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*ext_proc.*override_message_timeout_ignored_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Override Timeout Ignored",
              "range": true,
              "refId": "E"
            }
          ],
          "title": "Timeouts, Failures & Mutations (http_ext_proc_failure_mode_allowed_total, http_ext_proc_message_timeouts_total, http_ext_proc_rejected_header_mutations_total, http_ext_proc_override_message_timeout_received_total, http_ext_proc_override_message_timeout_ignored_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Tracks all clear_route_cache operations and their outcomes",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 905
          },
          "id": 218,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*ext_proc.*clear_route_cache_ignored_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Clear Cache Ignored",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*ext_proc.*clear_route_cache_disabled_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Clear Cache Disabled",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*ext_proc.*clear_route_cache_upstream_ignored_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Upstream Clear Cache Ignored",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Route Cache Operations (http_ext_proc_clear_route_cache_ignored_total, http_ext_proc_clear_route_cache_disabled_total, http_ext_proc_clear_route_cache_upstream_ignored_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "HTTP Filter - External Processing (ext_proc)",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 913
      },
      "id": 141,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Local HTTP rate limiter decisions and enforcement results",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 914
          },
          "id": 219,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*http_local_rate_limit.*enabled_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Enabled (Limiter Consulted)",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*http_local_rate_limit.*ok_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "OK (Under Limit)",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*http_local_rate_limit.*rate_limited_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Rate Limited (No Token)",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*http_local_rate_limit.*enforced_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Enforced (429 Returned)",
              "range": true,
              "refId": "D"
            }
          ],
          "title": "Rate Limiting Summary (http_local_rate_limit_enabled_total, http_local_rate_limit_ok_total, http_local_rate_limit_rate_limited_total, http_local_rate_limit_enforced_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "HTTP Filter - Local Rate Limit",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 922
      },
      "id": 142,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Lua request/response handler executions and script errors",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 923
          },
          "id": 220,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*lua.*errors_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Execution Errors",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*lua.*executions_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Executions",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "Lua Script Execution (http_lua_errors_total, http_lua_executions_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "HTTP Filter - Lua",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 931
      },
      "id": 143,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "OAuth2 authentication outcomes, passthrough rules, unauthorized requests, and refresh token operations",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 932
          },
          "id": 221,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*oauth_failure_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Failure (Denied)",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*oauth_passthrough_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Passthrough Matched",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*oauth_success_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Success (Allowed)",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*oauth_unauthorization_rq_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Unauthorized Requests",
              "range": true,
              "refId": "D"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*oauth_refreshtoken_success_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Refresh Token Success",
              "range": true,
              "refId": "E"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*oauth_refreshtoken_failure_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Refresh Token Failure",
              "range": true,
              "refId": "F"
            }
          ],
          "title": "OAuth2 Authorization Summary (oauth_failure_total, oauth_passthrough_total, oauth_success_total, oauth_unauthorization_rq_total, oauth_refreshtoken_success_total, oauth_refreshtoken_failure_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "HTTP Filter - OAuth2",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 940
      },
      "id": 144,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "RBAC allow/deny decisions, shadow rule evaluations, and logging outcomes",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 941
          },
          "id": 222,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*rbac.*allowed_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Allowed",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*rbac.*denied_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Denied",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*rbac.*shadow_allowed_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Shadow Allowed",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*rbac.*shadow_denied_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Shadow Denied",
              "range": true,
              "refId": "D"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*rbac.*logged_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Logged",
              "range": true,
              "refId": "E"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*rbac.*not_logged_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Not Logged",
              "range": true,
              "refId": "F"
            }
          ],
          "title": "RBAC Authorization & Shadow Rules (http_rbac_allowed_total, http_rbac_denied_total, http_rbac_shadow_allowed_total, http_rbac_shadow_denied_total, http_rbac_logged_total, http_rbac_not_logged_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "HTTP Filter - RBAC",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 949
      },
      "id": 145,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Routing decisions, no-route conditions, direct responses, and overload shedding",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 950
          },
          "id": 223,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*no_route_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "No Route (404)",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*no_cluster_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "No Cluster (503)",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*rq_redirect_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Redirect",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*rq_direct_response_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Direct Response",
              "range": true,
              "refId": "D"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*rq_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Total Routed",
              "range": true,
              "refId": "E"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*rq_reset_after_downstream_response_started_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Reset After Response Start",
              "range": true,
              "refId": "F"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*rq_overload_local_reply_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Overload Local Reply (Load Shed)",
              "range": true,
              "refId": "G"
            }
          ],
          "title": "Router Core Metrics (http_no_route_total, http_no_cluster_total, http_rq_redirect_total, http_rq_direct_response_total, http_rq_total, http_rq_reset_after_downstream_response_started_total, http_rq_overload_local_reply_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Aggregated and specific upstream HTTP status codes, retries, timeouts and request timing per virtual cluster",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 950
          },
          "id": 224,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*vcluster.*upstream_rq_[0-9]{3}$\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Specific Status Code",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*vcluster.*upstream_rq_[0-9]xx$\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Aggregate Status Code (xXX)",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*vcluster.*upstream_rq_retry_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Retry Attempts",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*vcluster.*upstream_rq_retry_limit_exceeded_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Retry Limit Exceeded",
              "range": true,
              "refId": "D"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*vcluster.*upstream_rq_retry_overflow_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Retry Overflow",
              "range": true,
              "refId": "E"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*vcluster.*upstream_rq_retry_success_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Retry Success",
              "range": true,
              "refId": "F"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*vcluster.*upstream_rq_timeout_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Timeout",
              "range": true,
              "refId": "G"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*vcluster.*upstream_rq_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Total Upstream Requests",
              "range": true,
              "refId": "H"
            },
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.95, sum(rate({__name__=~\"${service}_${project}_.*vcluster.*upstream_rq_time\", client_name=~\"$client\"}[1m])) by (le))",
              "legendFormat": "Upstream Request Time",
              "range": true,
              "refId": "I"
            }
          ],
          "title": "Virtual Cluster Metrics (vcluster_upstream_rq_xx_total, vcluster_upstream_rq_specific_total, vcluster_upstream_rq_retry_total, vcluster_upstream_rq_retry_limit_exceeded_total, vcluster_upstream_rq_retry_overflow_total, vcluster_upstream_rq_retry_success_total, vcluster_upstream_rq_timeout_total, vcluster_upstream_rq_total, vcluster_upstream_rq_time)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "HTTP Filter - Router",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 958
      },
      "id": 146,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Routed session requests, failed overrides, and requests with missing/invalid session state",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 959
          },
          "id": 225,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*stateful_session.*routed_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Routed (Override Applied)",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*stateful_session.*failed_open_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Failed Open (Fallback LB)",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*stateful_session.*failed_closed_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Failed Closed (503)",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum by (envoy_http_conn_manager_prefix)(rate({__name__=~\"${service}_${project}_.*stateful_session.*no_session_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "No Session / Extraction Failed",
              "range": true,
              "refId": "D"
            }
          ],
          "title": "Stateful Session Routing (http_stateful_session_routed_total, http_stateful_session_failed_open_total, http_stateful_session_failed_closed_total, http_stateful_session_no_session_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "HTTP Filter - Stateful Session",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 967
      },
      "id": 147,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "HTTP protocol detection counts and read errors",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 968
          },
          "id": 226,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_http_inspector_read_error_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Read Errors",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_http_inspector_http10_found_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "HTTP/1.0 Found",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_http_inspector_http11_found_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "HTTP/1.1 Found",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_http_inspector_http2_found_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "HTTP/2 Found",
              "range": true,
              "refId": "D"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_http_inspector_http_not_found_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "No HTTP Detected",
              "range": true,
              "refId": "E"
            }
          ],
          "title": "Protocol Detection Statistics (http_inspector_read_error_total, http_inspector_http10_found_total, http_inspector_http11_found_total, http_inspector_http2_found_total, http_inspector_http_not_found_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "Listener Filter - HTTP Inspector",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 976
      },
      "id": 148,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Sockets closed due to listener-level rate limit enforcement",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 977
          },
          "id": 227,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*listener_local_ratelimit.*rate_limited_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Rate Limited (Socket Closed)",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Socket Rate Limiting (listener_local_ratelimit_rate_limited_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "Listener Filter - Local Rate Limit",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 985
      },
      "id": 149,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Connections with missing PROXY headers and allowed/disallowed behaviors",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 986
          },
          "id": 228,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*proxy_proto.*not_found_disallowed_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Not Found (Disallowed)",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*proxy_proto.*not_found_allowed_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Not Found (Allowed)",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "General PROXY Protocol Handling (proxy_proto_not_found_disallowed_total, proxy_proto_not_found_allowed_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Correctly parsed headers, disallowed versions, and parsing errors by PROXY version",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 986
          },
          "id": 229,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*proxy_proto.*versions.v1.*found_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "v1 Found",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*proxy_proto.*versions.v1.*disallowed_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "v1 Disallowed",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*proxy_proto.*versions.v1.*error_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "v1 Error",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*proxy_proto.*versions.v2.*found_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "v2 Found",
              "range": true,
              "refId": "D"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*proxy_proto.*versions.v2.*disallowed_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "v2 Disallowed",
              "range": true,
              "refId": "E"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*proxy_proto.*versions.v2.*error_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "v2 Error",
              "range": true,
              "refId": "F"
            }
          ],
          "title": "PROXY Protocol Version Metrics (proxy_proto_versions_v1_found_total, proxy_proto_versions_v1_disallowed_total, proxy_proto_versions_v1_error_total, proxy_proto_versions_v2_found_total, proxy_proto_versions_v2_disallowed_total, proxy_proto_versions_v2_error_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Legacy error counter for backward compatibility",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 994
          },
          "id": 230,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_downstream_cx_proxy_proto_error_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Proxy Proto Error (Legacy)",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Legacy PROXY Protocol Metrics (downstream_cx_proxy_proto_error_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "Listener Filter - PROXY Protocol",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 1002
      },
      "id": 150,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "TLS detection, ALPN negotiation, SNI parsing and oversized client hello events",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 1003
          },
          "id": 231,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_tls_inspector_client_hello_too_large_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "ClientHello Too Large",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_tls_inspector_tls_found_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "TLS Found",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_tls_inspector_tls_not_found_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "TLS Not Found",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_tls_inspector_alpn_found_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "ALPN Found",
              "range": true,
              "refId": "D"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_tls_inspector_alpn_not_found_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "ALPN Not Found",
              "range": true,
              "refId": "E"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_tls_inspector_sni_found_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "SNI Found",
              "range": true,
              "refId": "F"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_tls_inspector_sni_not_found_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "SNI Not Found",
              "range": true,
              "refId": "G"
            }
          ],
          "title": "TLS / ALPN / SNI Inspection (tls_inspector_client_hello_too_large_total, tls_inspector_tls_found_total, tls_inspector_tls_not_found_total, tls_inspector_alpn_found_total, tls_inspector_alpn_not_found_total, tls_inspector_sni_found_total, tls_inspector_sni_not_found_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Histogram showing how many bytes were analyzed for TLS/ALPN/SNI detection",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "bytes",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 1003
          },
          "id": 232,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "histogram_quantile(0.95, sum(rate({__name__=~\"${service}_${project}_tls_inspector_bytes_processed\", client_name=~\"$client\"}[1m])) by (le))",
              "legendFormat": "Bytes Processed",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "TLS Inspector Bytes Processed (tls_inspector_bytes_processed)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "Listener Filter - TLS Inspector",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 1011
      },
      "id": 151,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Downstream UDP session lifecycle, datagrams, bytes, errors, and timeouts",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 1012
          },
          "id": 233,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*udp.*downstream_sess_no_route_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "No Route",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*udp.*downstream_sess_rx_bytes_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "RX Bytes",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*udp.*downstream_sess_rx_datagrams_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "RX Datagrams",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*udp.*downstream_sess_rx_errors_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "RX Errors",
              "range": true,
              "refId": "D"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*udp.*downstream_sess_total_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Sessions Created",
              "range": true,
              "refId": "E"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*udp.*downstream_sess_tx_bytes_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "TX Bytes",
              "range": true,
              "refId": "F"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*udp.*downstream_sess_tx_datagrams_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "TX Datagrams",
              "range": true,
              "refId": "G"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*udp.*downstream_sess_tx_errors_total\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "TX Errors",
              "range": true,
              "refId": "H"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*udp.*idle_timeout_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Idle Timeouts",
              "range": true,
              "refId": "I"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*udp.*session_filter_config_missing_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Config Missing",
              "range": true,
              "refId": "J"
            },
            {
              "editorMode": "code",
              "expr": "sum({__name__=\"${service}_${project}_.*udp.*downstream_sess_active\", envoy_http_conn_manager_prefix!=\"admin\", client_name=~\"$client\"})",
              "legendFormat": "Active Sessions",
              "range": true,
              "refId": "K"
            }
          ],
          "title": "Downstream UDP Session Metrics (udp_downstream_sess_no_route_total, udp_downstream_sess_rx_bytes_total, udp_downstream_sess_rx_datagrams_total, udp_downstream_sess_rx_errors_total, udp_downstream_sess_total_total, udp_downstream_sess_tx_bytes_total, udp_downstream_sess_tx_datagrams_total, udp_downstream_sess_tx_errors_total, udp_idle_timeout_total, udp_session_filter_config_missing_total, udp_downstream_sess_active)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Cluster-level upstream UDP stats including health, overflow and byte counts",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 1012
          },
          "id": 234,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*upstream_cx_none_healthy_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "No Healthy Upstream",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*upstream_cx_overflow_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Overflow",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*upstream_cx_rx_bytes_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Upstream RX Bytes",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*upstream_cx_tx_bytes_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Upstream TX Bytes",
              "range": true,
              "refId": "D"
            }
          ],
          "title": "Standard Upstream Metrics (upstream_cx_none_healthy_total, upstream_cx_overflow_total, upstream_cx_rx_bytes_total, upstream_cx_tx_bytes_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Cluster-specific UDP stats including tunnel establishment and datagram errors",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 1020
          },
          "id": 235,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*cluster.*udp.*sess_rx_datagrams_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "RX Datagrams",
              "range": true,
              "refId": "A"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*cluster.*udp.*sess_rx_datagrams_dropped_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "RX Dropped",
              "range": true,
              "refId": "B"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*cluster.*udp.*sess_rx_errors_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "RX Errors",
              "range": true,
              "refId": "C"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*cluster.*udp.*sess_tx_datagrams_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "TX Datagrams",
              "range": true,
              "refId": "D"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*cluster.*udp.*sess_tx_errors_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "TX Errors",
              "range": true,
              "refId": "E"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*cluster.*udp.*sess_tunnel_success_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Tunnel Success",
              "range": true,
              "refId": "F"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*cluster.*udp.*sess_tunnel_failure_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Tunnel Failure",
              "range": true,
              "refId": "G"
            },
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*cluster.*udp.*sess_tunnel_buffer_overflow_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Tunnel Buffer Overflow",
              "range": true,
              "refId": "H"
            }
          ],
          "title": "Custom Upstream UDP Metrics (cluster_udp_sess_rx_datagrams_total, cluster_udp_sess_rx_datagrams_dropped_total, cluster_udp_sess_rx_errors_total, cluster_udp_sess_tx_datagrams_total, cluster_udp_sess_tx_errors_total, cluster_udp_sess_tunnel_success_total, cluster_udp_sess_tunnel_failure_total, cluster_udp_sess_tunnel_buffer_overflow_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "UDP Listener Filter - UDP Proxy",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 1028
      },
      "id": 152,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Whether Envoy is currently connected (1) or disconnected (0) from the management server",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 1029
          },
          "id": 236,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum({__name__=\"${service}_${project}_control_plane_connected_state\", client_name=~\"$client\"})",
              "legendFormat": "Connected State",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Connected State (control_plane_connected_state)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Total number of times rate limiting was enforced for control plane requests",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 1029
          },
          "id": 237,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_control_plane_rate_limit_enforced_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Rate Limit Enforced",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Rate Limit Enforced (control_plane_rate_limit_enforced_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Pending control plane requests when rate limiting occurred",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 1037
          },
          "id": 238,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum({__name__=\"${service}_${project}_control_plane_pending_requests\", client_name=~\"$client\"})",
              "legendFormat": "Pending Requests",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Pending Requests (control_plane_pending_requests)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "API fetches that resulted in a configuration reload",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 1037
          },
          "id": 239,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*lds_config_reload_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Config Reload",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "xDS Config Reloads (config_reload_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Timestamp of last config reload in ms",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ms",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 1045
          },
          "id": 240,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum({__name__=\"${service}_${project}_.*lds_config_reload_time_ms\", client_name=~\"$client\"})",
              "legendFormat": "Config Reload Time",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "xDS Config Reload Timestamp (config_reload_time_ms)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Total number of initial fetch timeouts",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 1045
          },
          "id": 241,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*lds_init_fetch_timeout_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Init Fetch Timeout",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "xDS Initial Fetch Timeout (init_fetch_timeout_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Total xDS API fetch attempts",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 1053
          },
          "id": 242,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*lds_update_attempt_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Update Attempt",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "xDS Update Attempts (update_attempt_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Total successful xDS API fetches",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 1053
          },
          "id": 243,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*lds_update_success_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Update Success",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "xDS Update Success (update_success_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Total xDS API fetch failures due to network errors",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 1061
          },
          "id": 244,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*lds_update_failure_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Update Failure",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "xDS Update Failure (update_failure_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Total xDS API fetch failures due to validation or schema errors",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 1061
          },
          "id": 245,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum(rate({__name__=~\"${service}_${project}_.*lds_update_rejected_total\", client_name=~\"$client\"}[1m]))",
              "legendFormat": "Update Rejected",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "xDS Update Rejected (update_rejected_total)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Timestamp of last successful update (ms since epoch)",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "ms",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 1069
          },
          "id": 246,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum({__name__=\"${service}_${project}_.*lds_update_time\", client_name=~\"$client\"})",
              "legendFormat": "Last Update Time",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "xDS Last Successful Update Time (update_time)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "Hash of last successful configuration",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 1069
          },
          "id": 247,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum({__name__=\"${service}_${project}_.*lds_version\", client_name=~\"$client\"})",
              "legendFormat": "Version Hash",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "xDS Version Hash (version)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "victoriametrics"
          },
          "description": "1 = connected, 0 = disconnected",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "short",
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 1077
          },
          "id": 248,
          "pluginVersion": "12.2.1",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum({__name__=\"${service}_${project}_control_plane_connected_state\", client_name=~\"$client\"})",
              "legendFormat": "Connected",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "xDS Control Plane Connected State (control_plane_connected_state)",
          "type": "timeseries",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          }
        }
      ],
      "title": "Control Plane & xDS Statistics",
      "type": "row"
    }
  ],
  "preload": false,
  "refresh": "10s",
  "schemaVersion": 42,
  "tags": [
    "elchi",
    "proxy",
    "metrics"
  ],
  "templating": {
    "list": [
      {
        "current": {
          "text": "q3",
          "value": "q3"
        },
        "definition": "label_values(__name__)",
        "description": "Select the service to monitor",
        "label": "Service",
        "name": "service",
        "options": [],
        "query": {
          "qryType": 1,
          "query": "label_values(__name__)",
          "refId": "PrometheusVariableQueryEditor-VariableQuery"
        },
        "refresh": 1,
        "regex": "(.*)_[0-9a-f]{24}_.*",
        "sort": 1,
        "type": "query"
      },
      {
        "current": {
          "text": "68ac8add4d6ae9208b24492b",
          "value": "68ac8add4d6ae9208b24492b"
        },
        "definition": "label_values(__name__)",
        "description": "Select the project ID",
        "label": "Project",
        "name": "project",
        "options": [],
        "query": {
          "qryType": 1,
          "query": "label_values(__name__)",
          "refId": "PrometheusVariableQueryEditor-VariableQuery"
        },
        "refresh": 1,
        "regex": ".*_([0-9a-f]{24,}).*",
        "sort": 1,
        "type": "query"
      },
      {
        "allowCustomValue": false,
        "current": {
          "text": "All",
          "value": [
            "$__all"
          ]
        },
        "definition": "label_values(client_name)",
        "includeAll": true,
        "label": "Client",
        "multi": true,
        "name": "client",
        "options": [],
        "query": {
          "qryType": 1,
          "query": "label_values(client_name)",
          "refId": "PrometheusVariableQueryEditor-VariableQuery"
        },
        "refresh": 1,
        "regex": "",
        "type": "query"
      }
    ]
  },
  "time": {
    "from": "now-30m",
    "to": "now"
  },
  "timepicker": {
    "refresh_intervals": [
      "5s",
      "10s",
      "30s",
      "1m",
      "5m"
    ]
  },
  "timezone": "browser",
  "title": "Elchi All Metrics",
  "uid": "elchi-all-metrics",
  "version": 11
}